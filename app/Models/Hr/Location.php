<?php
bolt_decrypt( __FILE__ , 'R6l4uc'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXE1vZGVsc1xIcjsKCgp1c2UgSWxsdW1pbmF0ZVxEYXRhYmFzZVxFbG9xdWVudFxNb2RlbDsKdXNlIElsbHVtaW5hdGVcU3VwcG9ydFxGYWNhZGVzXERCOwp1c2UgU3BhdGllXEFjdGl2aXR5bG9nXExvZ09wdGlvbnM7CnVzZSBTcGF0aWVcQWN0aXZpdHlsb2dcVHJhaXRzXExvZ3NBY3Rpdml0eTsKdXNlIElsbHVtaW5hdGVcRGF0YWJhc2VcRWxvcXVlbnRcU29mdERlbGV0ZXM7CgpjbGFzcyBMb2NhdGlvbiBleHRlbmRzIE1vZGVsCnsKICAgIHVzZSBMb2dzQWN0aXZpdHksIFNvZnREZWxldGVzOwoKICAgIHByb3RlY3RlZCAkdGFibGUgPSAnaHJfbG9jYXRpb24nOwogICAgcHJvdGVjdGVkICRwcmltYXJ5S2V5ID0gJ2hyX2xvY2F0aW9uX2lkJzsKICAgIHByb3RlY3RlZCAkZmlsbGFibGUgPSBbJ2hyX2xvY2F0aW9uX25hbWUnLCAnaHJfbG9jYXRpb25fc2hvcnRfbmFtZScsICdocl9sb2NhdGlvbl9uYW1lX2JuJywgJ2hyX2xvY2F0aW9uX2FkZHJlc3MnLCAnaHJfbG9jYXRpb25fYWRkcmVzc19ibicsICdocl9sb2NhdGlvbl9jb2RlJywgJ2hyX2xvY2F0aW9uX3N0YXR1cycsICdocl9sb2NhdGlvbl91bml0X2lkJywgJ2NyZWF0ZWRfYnknLCAndXBkYXRlZF9ieSddOwoKICAgIHByb3RlY3RlZCBzdGF0aWMgJGxvZ0F0dHJpYnV0ZXMgPSBbJ2hyX2xvY2F0aW9uX25hbWUnLCAnaHJfbG9jYXRpb25fc2hvcnRfbmFtZScsICdocl9sb2NhdGlvbl9uYW1lX2JuJywgJ2hyX2xvY2F0aW9uX2FkZHJlc3MnLCAnaHJfbG9jYXRpb25fYWRkcmVzc19ibicsICdocl9sb2NhdGlvbl9jb2RlJywgJ2hyX2xvY2F0aW9uX3N0YXR1cycsICdocl9sb2NhdGlvbl91bml0X2lkJ107CiAgICBwcm90ZWN0ZWQgc3RhdGljICRsb2dOYW1lID0gJ2xvY2F0aW9uJzsKCiAgICBwcm90ZWN0ZWQgJGRhdGVzID0gWwogICAgICAgICdjcmVhdGVkX2F0JywgJ3VwZGF0ZWRfYXQnLCAnZGVsZXRlZF9hdCcsCiAgICBdOwoKICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0TG9jYXRpb25EaXN0aW5jdCgpCiAgICB7CiAgICAgICAgcmV0dXJuIHNlbGY6Omdyb3VwQnkoJ2hyX2xvY2F0aW9uX25hbWUnKS0+Z2V0KCk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRMb2NhdGlvbk5hbWVCYW5nbGEoJGlkKQogICAgewogICAgICAgICRsb2NhdGlvbk5hbWUgPSAnJzsKICAgICAgICAkbG9jYXRpb24gPSBzZWxmOjp3aGVyZSgnaHJfbG9jYXRpb25faWQnLCAkaWQpLT5maXJzdCgpOwogICAgICAgIGlmICgkbG9jYXRpb24pIHsKICAgICAgICAgICAgaWYgKCRsb2NhdGlvbi0+aHJfbG9jYXRpb25fbmFtZV9ibiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAkbG9jYXRpb25OYW1lID0gJGxvY2F0aW9uLT5ocl9sb2NhdGlvbl9uYW1lX2JuOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJGxvY2F0aW9uTmFtZSA9ICRsb2NhdGlvbi0+aHJfbG9jYXRpb25fbmFtZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gJGxvY2F0aW9uTmFtZTsKCiAgICB9CgogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRVbml0V2lzZUxvY2F0aW9uKCR1bml0SWQpCiAgICB7CiAgICAgICAgcmV0dXJuIERCOjp0YWJsZSgnaHJfbG9jYXRpb24nKQogICAgICAgICAgICAtPndoZXJlKCdocl9sb2NhdGlvbl91bml0X2lkJywgJHVuaXRJZCkKICAgICAgICAgICAgLT5maXJzdCgpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRBY3Rpdml0eWxvZ09wdGlvbnMoKTogTG9nT3B0aW9ucwogICAgewogICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBnZXRBY3Rpdml0eWxvZ09wdGlvbnMoKSBtZXRob2QuCiAgICB9Cn0K