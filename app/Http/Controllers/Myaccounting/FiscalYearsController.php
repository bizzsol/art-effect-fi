<?php
bolt_decrypt( __FILE__ , 'yV2aj4'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcTXlhY2NvdW50aW5nOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKCnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcRmlzY2FsWWVhcjsKCnVzZSBBcHAsREI7CnVzZSBJbGx1bWluYXRlXFN1cHBvcnRcRmFjYWRlc1xBdXRoOwp1c2UgRGF0YVRhYmxlczsKCmNsYXNzIEZpc2NhbFllYXJzQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIKeyAgIAoKICAgIC8qKgogICAgICogU2V0IGdsb2JhbCBkYXRhIHRhYmxlIGhlYWRlcnMuCiAgICAgKgogICAgICogQHJldHVybiBoZWFkZXJDb2x1bW5zCiAgICAgKi8KICAgICBwdWJsaWMgZnVuY3Rpb24gaGVhZGVyQ29sdW1ucygkdmFsdWU9JycpCiAgICAgewogICAgICAgICRyb3dzID0gIGFycmF5KAogICAgICAgICAgICBbJ1NMJywgJ1NMJ10sCiAgICAgICAgICAgIFsndGl0bGUnLCAndGl0bGUnLF0sCiAgICAgICAgICAgIFsnc3RhcnQnLCAnc3RhcnQnLCd0ZXh0LWNlbnRlciddLAogICAgICAgICAgICBbJ2VuZCcsICdlbmQnLCAndGV4dC1jZW50ZXInXSwKICAgICAgICAgICAgLy8gWydzdGF0dXMnLCAnc3RhdHVzJywgJ3RleHQtY2VudGVyJ10sCiAgICAgICAgICAgIFsnYWN0aW9ucycsICdhY3Rpb25zJywgJ3RleHQtY2VudGVyJ10sCiAgICAgICAgKTsKICAgICAgICByZXR1cm4gJHJvd3M7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGluZGV4KCkKICAgIHsKICAgICAgICAkdGl0bGUgPSAnRmlzY2FsIFllYXJzJzsKICAgICAgICB0cnkgewoKICAgICAgICAgICAgJGZpc2NhbFllYXJzID0gRmlzY2FsWWVhcjo6d2hlbighZGF0YXRhYmxlT3JkZXJpbmcoKSwgZnVuY3Rpb24oJHF1ZXJ5KXsKICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPm9yZGVyYnkoJ2lkJywgJ2Rlc2MnKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAkb3B0aW9ucz1bCiAgICAgICAgICAgICAgICAnZmlzY2FsLXllYXItZWRpdCc9PmF1dGgoKS0+dXNlcigpLT5oYXNQZXJtaXNzaW9uVG8oJ2Zpc2NhbC15ZWFyLWVkaXQnKSwKICAgICAgICAgICAgICAgICdmaXNjYWwteWVhci1kZWxldGUnPT5hdXRoKCktPnVzZXIoKS0+aGFzUGVybWlzc2lvblRvKCdmaXNjYWwteWVhci1kZWxldGUnKSwKICAgICAgICAgICAgXTsKCiAgICAgICAgICAgIGlmIChyZXF1ZXN0KCktPmFqYXgoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIERhdGF0YWJsZXM6Om9mKCRmaXNjYWxZZWFycykKICAgICAgICAgICAgICAgIC0+YWRkSW5kZXhDb2x1bW4oKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignc3RhdHVzJywgZnVuY3Rpb24oJHllYXIpIHVzZSgkb3B0aW9ucyl7CiAgICAgICAgICAgICAgICAgICAgJHN0YXR1c3M9Jyc7CgogICAgICAgICAgICAgICAgICAgIGlmKCR5ZWFyLT5jbG9zZWQgPT0gMSl7CiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0dXNzLj0nPGEgY2xhc3M9ImJ0biBidG4teHMgYnRuLWRhbmdlciI+PGkgY2xhc3M9ImxhIGxhLWJhbiI+PC9pPiZuYnNwO0Nsb3NlZDwvYT4nOwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAkc3RhdHVzcyAuPSc8YSBjbGFzcz0iYnRuIGJ0bi14cyBidG4tc3VjY2VzcyI+PGkgY2xhc3M9ImxhIGxhLWNoZWNrIj48L2k+Jm5ic3A7QWN0aXZlPC9hPic7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHJldHVybiAkc3RhdHVzczsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignYWN0aW9ucycsIGZ1bmN0aW9uKCR5ZWFyKSB1c2UoJG9wdGlvbnMpewogICAgICAgICAgICAgICAgICAgICRhY3Rpb25zPScnOwoKICAgICAgICAgICAgICAgICAgICBpZigkb3B0aW9uc1snZmlzY2FsLXllYXItZWRpdCddKXsKICAgICAgICAgICAgICAgICAgICAgICAgJGFjdGlvbnMuPSc8YSBjbGFzcz0iYnRuIGJ0bi14cyBidG4tcHJpbWFyeSIgaHJlZj0iJy51cmwoJ2FjY291bnRpbmcvZmlzY2FsLXllYXJzLycuJHllYXItPmlkLicvZWRpdCcpLiciPjxpIGNsYXNzPSJsYSBsYS1lZGl0Ij48L2k+PC9hPic7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKCRvcHRpb25zWydmaXNjYWwteWVhci1kZWxldGUnXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICRhY3Rpb25zLj0nPGEgY2xhc3M9ImJ0biBidG4teHMgYnRuLWRhbmdlciBkZWxldGVCdG4gbWwtMiIgb25jbGljaz0iZGVsZXRlQnRuKCQodGhpcykpIiBkYXRhLXNyYz0iJy5yb3V0ZSgnYWNjb3VudGluZy5maXNjYWwteWVhcnMuZGVzdHJveScsICR5ZWFyLT5pZCkuJyI+PGkgY2xhc3M9ImxhIGxhLXRyYXNoIj48L2k+PC9hPic7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiAkYWN0aW9uczsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPnJhd0NvbHVtbnMoWydzdGF0dXMnLCdhY3Rpb25zJ10pCiAgICAgICAgICAgICAgICAtPm1ha2UodHJ1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRkYXRhID0gWwogICAgICAgICAgICAgICAgJ3RpdGxlJyA9PiAkdGl0bGUsCiAgICAgICAgICAgICAgICAnaGVhZGVyQ29sdW1ucycgPT4gJHRoaXMtPmhlYWRlckNvbHVtbnMoKSwKICAgICAgICAgICAgXTsKCiAgICAgICAgICAgIHJldHVybiB2aWV3KCdhY2NvdW50aW5nLmJhY2tlbmQucGFnZXMuZmlzY2FsWWVhcnMuaW5kZXgnLCAkZGF0YSk7CiAgICAgICAgfWNhdGNoIChcVGhyb3dhYmxlICR0aCl7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGUoKQogICAgewogICAgICAgICRkYXRhID0gWwogICAgICAgICAgICAndGl0bGUnID0+ICdOZXcgRmlzY2FsIFllYXInLAogICAgICAgIF07CgogICAgICAgIHJldHVybiB2aWV3KCdhY2NvdW50aW5nLmJhY2tlbmQucGFnZXMuZmlzY2FsWWVhcnMuY3JlYXRlJywgJGRhdGEpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBzdG9yZShSZXF1ZXN0ICRyZXF1ZXN0KQogICAgewogICAgICAgICRyZXF1ZXN0LT52YWxpZGF0ZShbCiAgICAgICAgICAgICd0aXRsZScgPT4gJ3JlcXVpcmVkfHVuaXF1ZTpmaXNjYWxfeWVhcnMnLAogICAgICAgICAgICAnc3RhcnQnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICdlbmQnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgXSk7CgogICAgICAgIHRyeXsKICAgICAgICAgICAgJHllYXIgPSBGaXNjYWxZZWFyOjpjcmVhdGUoJHJlcXVlc3QtPmFsbCgpKTsKICAgICAgICAgICAgJHllYXItPmNsb3NlZCA9IDE7CiAgICAgICAgICAgICR5ZWFyLT5zYXZlKCk7CgogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0QmFja1dpdGhTdWNjZXNzKCJGaXNjYWwgWWVhciBoYXMgYmVlbiBjcmVhdGVkIHN1Y2Nlc3NmdWxseSIsICdhY2NvdW50aW5nLmZpc2NhbC15ZWFycy5jcmVhdGUnKTsKICAgICAgICB9Y2F0Y2ggKFxUaHJvd2FibGUgJHRoKXsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5iYWNrV2l0aEVycm9yKCR0aC0+Z2V0TWVzc2FnZSgpKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHNob3coJGlkKQogICAgewogICAgICAgICRmaXNjYWxZZWFyID0gRmlzY2FsWWVhcjo6ZmluZE9yRmFpbCgkaWQpOwogICAgICAgIGlmKCRmaXNjYWxZZWFyLT5jbG9zZWQgPT0gMCl7CiAgICAgICAgICAgICRmaXNjYWxZZWFyLT5jbG9zZWQgPSAxOwogICAgICAgICAgICAkZmlzY2FsWWVhci0+c2F2ZSgpOwoKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5yZWRpcmVjdEJhY2tXaXRoU3VjY2VzcygiRmlzY2FsIFllYXIgaGFzIGJlZW4gQ2xvc2VkIHN1Y2Nlc3NmdWxseSIsICdhY2NvdW50aW5nLmZpc2NhbC15ZWFycy5pbmRleCcpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICAkZmlzY2FsWWVhci0+Y2xvc2VkID0gMDsKICAgICAgICAgICAgJGZpc2NhbFllYXItPnNhdmUoKTsKCiAgICAgICAgICAgIEZpc2NhbFllYXI6OndoZXJlTm90SW4oJ2lkJywgWyRpZF0pLT51cGRhdGUoWydjbG9zZWQnID0+IDFdKTsKCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RCYWNrV2l0aFN1Y2Nlc3MoIkZpc2NhbCBZZWFyIGhhcyBiZWVuIE9wZW5lZCBzdWNjZXNzZnVsbHkiLCAnYWNjb3VudGluZy5maXNjYWwteWVhcnMuaW5kZXgnKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGVkaXQoJGlkKQogICAgewogICAgICAgICRkYXRhID0gWwogICAgICAgICAgICAndGl0bGUnID0+ICdFZGl0IEZpc2NhbCBZZWFyJywKICAgICAgICAgICAgJ2Zpc2NhbFllYXInID0+IEZpc2NhbFllYXI6OmZpbmRPckZhaWwoJGlkKQogICAgICAgIF07CgogICAgICAgIHJldHVybiB2aWV3KCdhY2NvdW50aW5nLmJhY2tlbmQucGFnZXMuZmlzY2FsWWVhcnMuZWRpdCcsICRkYXRhKTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gdXBkYXRlKFJlcXVlc3QgJHJlcXVlc3QsICRpZCkKICAgIHsKICAgICAgICAkcmVxdWVzdC0+dmFsaWRhdGUoWwogICAgICAgICAgICAndGl0bGUnID0+ICdyZXF1aXJlZHx1bmlxdWU6ZmlzY2FsX3llYXJzLHRpdGxlLCcuJGlkLAogICAgICAgICAgICAnc3RhcnQnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICdlbmQnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgXSk7CgogICAgICAgIHRyeXsKICAgICAgICAgICAgRmlzY2FsWWVhcjo6ZmluZCgkaWQpLT5maWxsKCRyZXF1ZXN0LT5hbGwoKSktPnNhdmUoKTsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5yZWRpcmVjdEJhY2tXaXRoU3VjY2VzcygiRmlzY2FsIFllYXIgaGFzIGJlZW4gdXBkYXRlZCBzdWNjZXNzZnVsbHkiLCAnYWNjb3VudGluZy5maXNjYWwteWVhcnMuaW5kZXgnKTsKICAgICAgICB9Y2F0Y2ggKFxUaHJvd2FibGUgJHRoKXsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5iYWNrV2l0aEVycm9yKCR0aC0+Z2V0TWVzc2FnZSgpKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGRlc3Ryb3koJGlkKQogICAgewogICAgICAgIHRyeXsKICAgICAgICAgICAgRmlzY2FsWWVhcjo6ZmluZCgkaWQpLT5kZWxldGUoKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oWwogICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IHRydWUsCiAgICAgICAgICAgICAgICAnbWVzc2FnZScgPT4gIkZpc2NhbCBZZWFyIGhhcyBiZWVuIERlbGV0ZWQhIgogICAgICAgICAgICBdKTsKICAgICAgICB9Y2F0Y2ggKFxUaHJvd2FibGUgJHRoKXsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oWwogICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IGZhbHNlLAogICAgICAgICAgICAgICAgJ21lc3NhZ2UnID0+ICR0aC0+Z2V0TWVzc2FnZSgpCiAgICAgICAgICAgIF0pOwogICAgICAgIH0KICAgIH0KfQo=