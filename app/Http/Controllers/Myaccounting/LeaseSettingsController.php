<?php
bolt_decrypt( __FILE__ , 'fb2rGM'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcTXlhY2NvdW50aW5nOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKCnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQ29tcGFueTsKdXNlIERCOwoKY2xhc3MgTGVhc2VTZXR0aW5nc0NvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyCnsKICAgIHB1YmxpYyBmdW5jdGlvbiBpbmRleCgpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJGRhdGEgPSBbCiAgICAgICAgICAgICAgICAndGl0bGUnID0+ICdMZWFzZSBTZXR0aW5ncycsCiAgICAgICAgICAgICAgICAnYWxsJyA9PiBnZXRBbGxHcm91cEFuZExlZGdlcnMoZmFsc2UsIHRydWUpLAogICAgICAgICAgICAgICAgJ2NvbXBhbmllcycgPT4gQ29tcGFueTo6aGFzKCdwcm9maXRDZW50cmVzLmNvc3RDZW50cmVzJykKICAgICAgICAgICAgICAgIC0+d2hlcmVIYXMoJ3VzZXJzJywgZnVuY3Rpb24oJHF1ZXJ5KXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgndXNlcl9pZCcsIGF1dGgoKS0+dXNlcigpLT5pZCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5nZXQoKSwKICAgICAgICAgICAgXTsKICAgICAgICAgICAgcmV0dXJuIHZpZXcoJ2FjY291bnRpbmcuYmFja2VuZC5wYWdlcy5sZWFzZXMuc2V0dGluZ3MnLCAkZGF0YSk7CiAgICAgICAgfWNhdGNoIChcVGhyb3dhYmxlICR0aCl7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBzdG9yZShSZXF1ZXN0ICRyZXF1ZXN0KQogICAgewogICAgICAgICRyZXF1ZXN0LT52YWxpZGF0ZShbCiAgICAgICAgICAgICdsZWFzZV9hc3NldF9sZWRnZXJfaWQnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICdsZWFzZV9hc3NldF9sZWRnZXJfaWQuKicgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ2xlYXNlX2xpYWJpbGl0eV9sZWRnZXJfaWQnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICdsZWFzZV9saWFiaWxpdHlfbGVkZ2VyX2lkLionID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICdsZWFzZV9leHBlbnNlX2xlZGdlcl9pZCcgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ2xlYXNlX2V4cGVuc2VfbGVkZ2VyX2lkLionID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICdsZWFzZV9kZXByZWNpYXRpb25fbGVkZ2VyX2lkJyA9PiAncmVxdWlyZWQnLAogICAgICAgICAgICAnbGVhc2VfZGVwcmVjaWF0aW9uX2xlZGdlcl9pZC4qJyA9PiAncmVxdWlyZWQnLAogICAgICAgICAgICAnbGVhc2VfYWNjdW11bGF0ZWRfZGVwcmVjaWF0aW9uX2xlZGdlcl9pZCcgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ2xlYXNlX2FjY3VtdWxhdGVkX2RlcHJlY2lhdGlvbl9sZWRnZXJfaWQuKicgPT4gJ3JlcXVpcmVkJywKICAgICAgICBdKTsKCiAgICAgICAgREI6OmJlZ2luVHJhbnNhY3Rpb24oKTsKICAgICAgICB0cnl7CiAgICAgICAgICAgICRjb21wYW5pZXMgPSBDb21wYW55OjpoYXMoJ3Byb2ZpdENlbnRyZXMuY29zdENlbnRyZXMnKQogICAgICAgICAgICAtPndoZXJlSGFzKCd1c2VycycsIGZ1bmN0aW9uKCRxdWVyeSl7CiAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgndXNlcl9pZCcsIGF1dGgoKS0+dXNlcigpLT5pZCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC0+Z2V0KCk7CiAgICAgICAgICAgIGlmKGlzc2V0KCRjb21wYW5pZXNbMF0pKXsKICAgICAgICAgICAgICAgIGZvcmVhY2goJGNvbXBhbmllcyBhcyAkY29tcGFueSl7CiAgICAgICAgICAgICAgICAgICAgJGNvbXBhbnktPmxlYXNlX2Fzc2V0X2xlZGdlcl9pZCA9ICRyZXF1ZXN0LT5sZWFzZV9hc3NldF9sZWRnZXJfaWRbJGNvbXBhbnktPmlkXTsKICAgICAgICAgICAgICAgICAgICAkY29tcGFueS0+bGVhc2VfbGlhYmlsaXR5X2xlZGdlcl9pZCA9ICRyZXF1ZXN0LT5sZWFzZV9saWFiaWxpdHlfbGVkZ2VyX2lkWyRjb21wYW55LT5pZF07CiAgICAgICAgICAgICAgICAgICAgJGNvbXBhbnktPmxlYXNlX2V4cGVuc2VfbGVkZ2VyX2lkID0gJHJlcXVlc3QtPmxlYXNlX2V4cGVuc2VfbGVkZ2VyX2lkWyRjb21wYW55LT5pZF07CiAgICAgICAgICAgICAgICAgICAgJGNvbXBhbnktPmxlYXNlX2RlcHJlY2lhdGlvbl9sZWRnZXJfaWQgPSAkcmVxdWVzdC0+bGVhc2VfZGVwcmVjaWF0aW9uX2xlZGdlcl9pZFskY29tcGFueS0+aWRdOwogICAgICAgICAgICAgICAgICAgICRjb21wYW55LT5sZWFzZV9hY2N1bXVsYXRlZF9kZXByZWNpYXRpb25fbGVkZ2VyX2lkID0gJHJlcXVlc3QtPmxlYXNlX2FjY3VtdWxhdGVkX2RlcHJlY2lhdGlvbl9sZWRnZXJfaWRbJGNvbXBhbnktPmlkXTsKICAgICAgICAgICAgICAgICAgICAkY29tcGFueS0+c2F2ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBEQjo6Y29tbWl0KCk7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhTdWNjZXNzKCJMZWFzZSBTZXR0aW5ncyBoYXZlIGJlZW4gVXBkYXRlZC4iKTsKICAgICAgICB9Y2F0Y2ggKFxUaHJvd2FibGUgJHRoKXsKICAgICAgICAgICAgREI6OnJvbGxiYWNrKCk7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQp9Cg==