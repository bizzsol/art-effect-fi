<?php
bolt_decrypt( __FILE__ , 'C7Ncof'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcTXlhY2NvdW50aW5nXEZpeGVkQXNzZXRzOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKCnVzZSBBcHBcTW9kZWxzXEZpeGVkQXNzZXRzXEZpeGVkQXNzZXRCYXRjaDsKdXNlIEFwcFxNb2RlbHNcRml4ZWRBc3NldHNcRml4ZWRBc3NldEJhdGNoSXRlbTsKdXNlIEFwcFxNb2RlbHNcRml4ZWRBc3NldHNcRml4ZWRBc3NldEJhdGNoSXRlbURlcHJlY2lhdGlvbjsKdXNlIEFwcFxNb2RlbHNcRml4ZWRBc3NldHNcRml4ZWRBc3NldEJhdGNoSXRlbVVzZXI7CnVzZSBBcHBcVXNlcjsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXENhdGVnb3J5Owp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcUHJvZHVjdDsKCnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQ3VycmVuY3lUeXBlOwp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXEN1cnJlbmN5OwoKdXNlIEFwcCwgREIsIERhdGFUYWJsZXM7CnVzZSBJbGx1bWluYXRlXFN1cHBvcnRcRmFjYWRlc1xBdXRoOwoKY2xhc3MgRGlzcG9zZWRGaXhlZEFzc2V0c0NvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyCnsKICAgIHB1YmxpYyBmdW5jdGlvbiBoZWFkZXJDb2x1bW5zKCR2YWx1ZT0nJyl7CiAgICAgICAgcmV0dXJuIGFycmF5KAogICAgICAgICAgICBbJ1NMJywgJ1NMJ10sCiAgICAgICAgICAgIFsnYXNzZXQnLCAnYXNzZXQnXSwKICAgICAgICAgICAgWydjdXJyZW5jeScsICdjdXJyZW5jeScsICd0ZXh0LWNlbnRlciddLAogICAgICAgICAgICBbJ2Nvc3QnLCAnY29zdCcsICd0ZXh0LXJpZ2h0J10sCiAgICAgICAgICAgIFsnZGVwcmVjaWF0ZWQnLCAnZGVwcmVjaWF0ZWQnLCAndGV4dC1yaWdodCddLAogICAgICAgICAgICBbJ2Jvb2tfdmFsdWUnLCAnYm9va192YWx1ZScsICd0ZXh0LXJpZ2h0J10sCiAgICAgICAgICAgIFsnZGlzcG9zYWxfdHlwZScsICdkaXNwb3NhbF90eXBlJywgJ3RleHQtY2VudGVyJ10sCiAgICAgICAgICAgIFsnZGlzcG9zYWxfZGF0ZScsICdkaXNwb3NhbF9kYXRlJywgJ3RleHQtY2VudGVyJ10sCiAgICAgICAgICAgIFsnZGlzcG9zYWxfYW1vdW50JywgJ2Rpc3Bvc2FsX2Ftb3VudCcsICd0ZXh0LXJpZ2h0J10sCiAgICAgICAgICAgIFsnZ2FpbicsICdnYWluJywgJ3RleHQtcmlnaHQnXSwKICAgICAgICAgICAgWydsb3NzJywgJ2xvc3MnLCAndGV4dC1yaWdodCddLAogICAgICAgICAgICBbJ3JlbWFya3MnLCAncmVtYXJrcyddLAogICAgICAgICk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGluZGV4KCkKICAgIHsKICAgICAgICB0cnkgewogICAgICAgICAgICAkaXRlbXMgPSBGaXhlZEFzc2V0QmF0Y2hJdGVtOjp3aXRoKFsKICAgICAgICAgICAgICAgICdiYXRjaC5pdGVtcycsCiAgICAgICAgICAgICAgICAnZGVwcmVjaWF0aW9ucycsCgogICAgICAgICAgICAgICAgJ2ZpbmFsQXNzZXQuYXR0cmlidXRlcy5hdHRyaWJ1dGVPcHRpb24uYXR0cmlidXRlJywKICAgICAgICAgICAgICAgICdiYXRjaC5nb29kc1JlY2VpdmVkSXRlbXNTdG9ja0luLnJlbFB1cmNoYXNlT3JkZXIucmVsUHVyY2hhc2VPcmRlckl0ZW1zJywKICAgICAgICAgICAgICAgICdiYXRjaC5nb29kc1JlY2VpdmVkSXRlbXNTdG9ja0luLnJlbFB1cmNoYXNlT3JkZXIucmVsUXVvdGF0aW9uLnJlbFF1b3RhdGlvbkl0ZW1zJywKICAgICAgICAgICAgICAgICdiYXRjaC5nb29kc1JlY2VpdmVkSXRlbXNTdG9ja0luLmFzc2V0Q29zdGluZ0VudHJpZXMnLAogICAgICAgICAgICBdKQogICAgICAgICAgICAtPndoZXJlKCdpc19kaXNwb3NlZCcsIDEpCiAgICAgICAgICAgIC0+Z3JvdXBCeSgnYXNzZXRfY29kZScpCiAgICAgICAgICAgIC0+d2hlbighZGF0YXRhYmxlT3JkZXJpbmcoKSwgZnVuY3Rpb24oJHF1ZXJ5KXsKICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPm9yZGVyYnkoJ3VwZGF0ZWRfYXQnLCAnZGVzYycpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChyZXF1ZXN0KCktPmFqYXgoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIERhdGFUYWJsZXM6Om9mKCRpdGVtcykKICAgICAgICAgICAgICAgIC0+YWRkSW5kZXhDb2x1bW4oKQogICAgICAgICAgICAgICAgLT5hZGRDb2x1bW4oJ2Fzc2V0JywgZnVuY3Rpb24oJGl0ZW0pewogICAgICAgICAgICAgICAgICAgIHJldHVybiAnPHVsIGNsYXNzPSJtYi0wIHBsLTMiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PHN0cm9uZz5Qcm9kdWN0OiA8L3N0cm9uZz4nLihpc3NldCgkaXRlbS0+ZmluYWxBc3NldC0+bmFtZSk/JGl0ZW0tPmZpbmFsQXNzZXQtPm5hbWU6JycpLicgJy5nZXRQcm9kdWN0QXR0cmlidXRlc0Zhc3RlcigkaXRlbS0+ZmluYWxBc3NldCkuJzwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPkJhdGNoOiA8L3N0cm9uZz4nLihpc3NldCgkaXRlbS0+YmF0Y2gtPmJhdGNoKT8kaXRlbS0+YmF0Y2gtPmJhdGNoOicnKS4nPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+QXNzZXQgQ29kZTogPC9zdHJvbmc+Jy4kaXRlbS0+YXNzZXRfY29kZS4nPC9saT4KICAgICAgICAgICAgICAgICAgICA8L3VsPic7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5hZGRDb2x1bW4oJ2N1cnJlbmN5JywgZnVuY3Rpb24oJGl0ZW0pewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkaXRlbS0+YmF0Y2gtPmdvb2RzUmVjZWl2ZWRJdGVtc1N0b2NrSW4tPnJlbFB1cmNoYXNlT3JkZXItPnJlbFF1b3RhdGlvbi0+ZXhjaGFuZ2VSYXRlLT5jdXJyZW5jeS0+Y29kZTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPmZpbHRlckNvbHVtbignY3VycmVuY3knLCBmdW5jdGlvbiAoJHF1ZXJ5LCAka2V5d29yZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlSGFzKCdiYXRjaC5nb29kc1JlY2VpdmVkSXRlbXNTdG9ja0luLnJlbFB1cmNoYXNlT3JkZXIucmVsUXVvdGF0aW9uLmV4Y2hhbmdlUmF0ZS5jdXJyZW5jeScsIGZ1bmN0aW9uICgkcXVlcnkpIHVzZSgka2V5d29yZCkgewogICAgICAgICAgICAgICAgICAgICAgICAkcXVlcnktPndoZXJlKCdjb2RlJywgJ0xJS0UnLCAnJScuJGtleXdvcmQuJyUnKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignY29zdCcsIGZ1bmN0aW9uKCRpdGVtKXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3lzdGVtTW9uZXlGb3JtYXQoRml4ZWRBc3NldEJhdGNoSXRlbTo6d2hlcmUoJ2Fzc2V0X2NvZGUnLCAkaXRlbS0+YXNzZXRfY29kZSktPnN1bSgnYXNzZXRfdmFsdWUnKSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5hZGRDb2x1bW4oJ2RlcHJlY2lhdGVkJywgZnVuY3Rpb24oJGl0ZW0pewogICAgICAgICAgICAgICAgICAgICRkZXByZWNpYXRlZCA9IEZpeGVkQXNzZXRCYXRjaEl0ZW1EZXByZWNpYXRpb246OndoZXJlSGFzKCdiYXRjaEl0ZW0nLCBmdW5jdGlvbigkcXVlcnkpIHVzZSgkaXRlbSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdhc3NldF9jb2RlJywgJGl0ZW0tPmFzc2V0X2NvZGUpOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLT5zdW0oJ2Ftb3VudCcpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBzeXN0ZW1Nb25leUZvcm1hdCgkZGVwcmVjaWF0ZWQpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+YWRkQ29sdW1uKCdib29rX3ZhbHVlJywgZnVuY3Rpb24oJGl0ZW0pewogICAgICAgICAgICAgICAgICAgICRjb3N0ID0gRml4ZWRBc3NldEJhdGNoSXRlbTo6d2hlcmUoJ2Fzc2V0X2NvZGUnLCAkaXRlbS0+YXNzZXRfY29kZSktPnN1bSgnYXNzZXRfdmFsdWUnKTsKICAgICAgICAgICAgICAgICAgICAkZGVwcmVjaWF0ZWQgPSBGaXhlZEFzc2V0QmF0Y2hJdGVtRGVwcmVjaWF0aW9uOjp3aGVyZUhhcygnYmF0Y2hJdGVtJywgZnVuY3Rpb24oJHF1ZXJ5KSB1c2UoJGl0ZW0pewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgnYXNzZXRfY29kZScsICRpdGVtLT5hc3NldF9jb2RlKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC0+c3VtKCdhbW91bnQnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3lzdGVtTW9uZXlGb3JtYXQoJGNvc3QtJGRlcHJlY2lhdGVkKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPmVkaXRDb2x1bW4oJ2Rpc3Bvc2FsX3R5cGUnLCBmdW5jdGlvbigkaXRlbSl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVjd29yZHMoJGl0ZW0tPmRpc3Bvc2FsX3R5cGUpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+YWRkQ29sdW1uKCdkaXNwb3NhbF9kYXRlJywgZnVuY3Rpb24oJGl0ZW0pewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkaXRlbS0+ZGlzcG9zZWRfYXQ7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5lZGl0Q29sdW1uKCdkaXNwb3NhbF9hbW91bnQnLCBmdW5jdGlvbigkaXRlbSl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5c3RlbU1vbmV5Rm9ybWF0KEZpeGVkQXNzZXRCYXRjaEl0ZW06OndoZXJlKCdhc3NldF9jb2RlJywgJGl0ZW0tPmFzc2V0X2NvZGUpLT5zdW0oJ2Rpc3Bvc2FsX2Ftb3VudCcpKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignZ2FpbicsIGZ1bmN0aW9uKCRpdGVtKXsKICAgICAgICAgICAgICAgICAgICAkY29zdCA9IEZpeGVkQXNzZXRCYXRjaEl0ZW06OndoZXJlKCdhc3NldF9jb2RlJywgJGl0ZW0tPmFzc2V0X2NvZGUpLT5zdW0oJ2Fzc2V0X3ZhbHVlJyk7CiAgICAgICAgICAgICAgICAgICAgJGRlcHJlY2lhdGVkID0gRml4ZWRBc3NldEJhdGNoSXRlbURlcHJlY2lhdGlvbjo6d2hlcmVIYXMoJ2JhdGNoSXRlbScsIGZ1bmN0aW9uKCRxdWVyeSkgdXNlKCRpdGVtKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2Fzc2V0X2NvZGUnLCAkaXRlbS0+YXNzZXRfY29kZSk7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAtPnN1bSgnYW1vdW50Jyk7CiAgICAgICAgICAgICAgICAgICAgJGRpc3Bvc2FsX2Ftb3VudCA9IEZpeGVkQXNzZXRCYXRjaEl0ZW06OndoZXJlKCdhc3NldF9jb2RlJywgJGl0ZW0tPmFzc2V0X2NvZGUpLT5zdW0oJ2Rpc3Bvc2FsX2Ftb3VudCcpOwoKICAgICAgICAgICAgICAgICAgICAkdG90YWxfZHVlID0gJGNvc3QtKCRkZXByZWNpYXRlZCskZGlzcG9zYWxfYW1vdW50KTsKCiAgICAgICAgICAgICAgICAgICAgJGFzc2V0X2dhaW5fbG9zcyA9ICdlcXVhbCc7CiAgICAgICAgICAgICAgICAgICAgaWYoJHRvdGFsX2R1ZSA+IDApewogICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRfZ2Fpbl9sb3NzID0gJ2xvc3MnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZigkdG90YWxfZHVlIDwgMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICRhc3NldF9nYWluX2xvc3MgPSAnZ2Fpbic7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGFzc2V0X2dhaW5fbG9zcyA9PSAnZ2FpbicgPyBzeXN0ZW1Nb25leUZvcm1hdCgoJHRvdGFsX2R1ZSkgPCAwID8gKCR0b3RhbF9kdWUpKigtMSkgOiAoJHRvdGFsX2R1ZSkpIDogJyc7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5hZGRDb2x1bW4oJ2xvc3MnLCBmdW5jdGlvbigkaXRlbSl7CiAgICAgICAgICAgICAgICAgICAgJGNvc3QgPSBGaXhlZEFzc2V0QmF0Y2hJdGVtOjp3aGVyZSgnYXNzZXRfY29kZScsICRpdGVtLT5hc3NldF9jb2RlKS0+c3VtKCdhc3NldF92YWx1ZScpOwogICAgICAgICAgICAgICAgICAgICRkZXByZWNpYXRlZCA9IEZpeGVkQXNzZXRCYXRjaEl0ZW1EZXByZWNpYXRpb246OndoZXJlSGFzKCdiYXRjaEl0ZW0nLCBmdW5jdGlvbigkcXVlcnkpIHVzZSgkaXRlbSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdhc3NldF9jb2RlJywgJGl0ZW0tPmFzc2V0X2NvZGUpOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLT5zdW0oJ2Ftb3VudCcpOwogICAgICAgICAgICAgICAgICAgICRkaXNwb3NhbF9hbW91bnQgPSBGaXhlZEFzc2V0QmF0Y2hJdGVtOjp3aGVyZSgnYXNzZXRfY29kZScsICRpdGVtLT5hc3NldF9jb2RlKS0+c3VtKCdkaXNwb3NhbF9hbW91bnQnKTsKCiAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2R1ZSA9ICRjb3N0LSgkZGVwcmVjaWF0ZWQrJGRpc3Bvc2FsX2Ftb3VudCk7CgogICAgICAgICAgICAgICAgICAgICRhc3NldF9nYWluX2xvc3MgPSAnZXF1YWwnOwogICAgICAgICAgICAgICAgICAgIGlmKCR0b3RhbF9kdWUgPiAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgJGFzc2V0X2dhaW5fbG9zcyA9ICdsb3NzJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoJHRvdGFsX2R1ZSA8IDApewogICAgICAgICAgICAgICAgICAgICAgICAkYXNzZXRfZ2Fpbl9sb3NzID0gJ2dhaW4nOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRhc3NldF9nYWluX2xvc3MgPT0gJ2xvc3MnID8gc3lzdGVtTW9uZXlGb3JtYXQoKCR0b3RhbF9kdWUpIDwgMCA/ICgkdG90YWxfZHVlKSooLTEpIDogKCR0b3RhbF9kdWUpKSA6ICcnOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+YWRkQ29sdW1uKCdyZW1hcmtzJywgZnVuY3Rpb24oJGl0ZW0pewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkaXRlbS0+ZGlzcG9zYWxfcmVtYXJrczsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPnJhd0NvbHVtbnMoWydhc3NldCcsICdnYWluX29yX2xvc3MnXSkKICAgICAgICAgICAgICAgIC0+bWFrZSh0cnVlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHZpZXcoJ2FjY291bnRpbmcuYmFja2VuZC5wYWdlcy5maXhlZEFzc2V0cy5kaXNwb3NlZEZpeGVkQXNzZXRzLmluZGV4JywgWwogICAgICAgICAgICAgICAgJ3RpdGxlJyA9PiAnRGlzcG9zZWQgRml4ZWQgQXNzZXRzJywKICAgICAgICAgICAgICAgICdoZWFkZXJDb2x1bW5zJyA9PiAkdGhpcy0+aGVhZGVyQ29sdW1ucygpCiAgICAgICAgICAgIF0pOwogICAgICAgIH1jYXRjaCAoXFRocm93YWJsZSAkdGgpewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmJhY2tXaXRoRXJyb3IoJHRoLT5nZXRNZXNzYWdlKCkpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gY3JlYXRlKCkKICAgIHsKCiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHN0b3JlKFJlcXVlc3QgJHJlcXVlc3QpCiAgICB7CiAgICAgICAgCiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHNob3coJGlkKQogICAgewogICAgICAgICRkYXRhID0gWwogICAgICAgICAgICAndXNlcnMnID0+IEZpeGVkQXNzZXRCYXRjaEl0ZW1Vc2VyOjp3aGVyZSgnZml4ZWRfYXNzZXRfYmF0Y2hfaXRlbV9pZCcsICRpZCktPmdldCgpCiAgICAgICAgXTsKICAgICAgICByZXR1cm4gdmlldygnYWNjb3VudGluZy5iYWNrZW5kLnBhZ2VzLmZpeGVkQXNzZXRzLmRpc3Bvc2VkRml4ZWRBc3NldHMuaGlzdG9yeScsICRkYXRhKTsKICAgIH0KCn0K