<?php
bolt_decrypt( __FILE__ , 'vVu1EI'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcTXlhY2NvdW50aW5nXEZpeGVkQXNzZXRzOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKCnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQ29tcGFueTsKdXNlIEFwcFxNb2RlbHNcRml4ZWRBc3NldHNcRml4ZWRBc3NldEJhdGNoOwp1c2UgQXBwXE1vZGVsc1xGaXhlZEFzc2V0c1xGaXhlZEFzc2V0QmF0Y2hJdGVtOwp1c2UgQXBwXE1vZGVsc1xGaXhlZEFzc2V0c1xGaXhlZEFzc2V0QmF0Y2hJdGVtRGVwcmVjaWF0aW9uOwp1c2UgQXBwXE1vZGVsc1xGaXhlZEFzc2V0c1xGaXhlZEFzc2V0QmF0Y2hVc2VyOwp1c2UgQXBwXFVzZXI7CnVzZSBBcHBcTW9kZWxzXFBtc01vZGVsc1xDYXRlZ29yeTsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXFByb2R1Y3Q7CnVzZSBBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xDb3N0Q2VudHJlOwoKdXNlIEFwcCwgREI7CnVzZSBJbGx1bWluYXRlXFN1cHBvcnRcRmFjYWRlc1xBdXRoOwoKY2xhc3MgUHJvY2Vzc0RlcHJlY2lhdGlvbkNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyCnsKICAgIHB1YmxpYyBmdW5jdGlvbiBpbmRleCgpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJGRhdGEgPSBbCiAgICAgICAgICAgICAgICAndGl0bGUnID0+ICdQcm9jZXNzIERlcHJlY2lhdGlvbnMnLAogICAgICAgICAgICAgICAgJ2NvbXBhbmllcycgPT4gQ29tcGFueTo6aGFzKCdwcm9maXRDZW50cmVzLmNvc3RDZW50cmVzJykKICAgICAgICAgICAgICAgIC0+d2hlcmVIYXMoJ3VzZXJzJywgZnVuY3Rpb24oJHF1ZXJ5KXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgndXNlcl9pZCcsIGF1dGgoKS0+dXNlcigpLT5pZCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5nZXQoKSwKICAgICAgICAgICAgXTsKICAgICAgICAgICAgcmV0dXJuIHZpZXcoJ2FjY291bnRpbmcuYmFja2VuZC5wYWdlcy5maXhlZEFzc2V0cy5wcm9jZXNzRGVwcmVjaWF0aW9uLmluZGV4JywgJGRhdGEpOwogICAgICAgIH1jYXRjaCAoXFRocm93YWJsZSAkdGgpewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmJhY2tXaXRoRXJyb3IoJHRoLT5nZXRNZXNzYWdlKCkpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gY3JlYXRlKCkKICAgIHsKICAgICAgICBpZihyZXF1ZXN0KCktPmhhcygnZ2V0LXByb2R1Y3RzJykpewogICAgICAgICAgICAkY2F0ZWdvcmllcyA9IENhdGVnb3J5Ojp3aGVyZUhhcygncHJvZHVjdHMuZml4ZWRBc3NldEJhdGNoSXRlbXMnLCBmdW5jdGlvbigkcXVlcnkpewogICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2lzX2Rpc3Bvc2VkJywgMCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC0+Z2V0KCk7CiAgICAgICAgICAgIHJldHVybiB2aWV3KCdhY2NvdW50aW5nLmJhY2tlbmQucGFnZXMuZml4ZWRBc3NldHMucHJvY2Vzc0RlcHJlY2lhdGlvbi5wcm9kdWN0cycsIFsKICAgICAgICAgICAgICAgICdjYXRlZ29yaWVzJyA9PiAkY2F0ZWdvcmllcywKICAgICAgICAgICAgICAgICdwcm9kdWN0cycgPT4gUHJvZHVjdDo6d2l0aChbCiAgICAgICAgICAgICAgICAgICAgJ2F0dHJpYnV0ZXMuYXR0cmlidXRlT3B0aW9uLmF0dHJpYnV0ZScKICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAtPndoZXJlSW4oJ2NhdGVnb3J5X2lkJywgJGNhdGVnb3JpZXMtPnBsdWNrKCdpZCcpLT50b0FycmF5KCkpCiAgICAgICAgICAgICAgICAtPndoZXJlSGFzKCdmaXhlZEFzc2V0QmF0Y2hJdGVtcycsIGZ1bmN0aW9uKCRxdWVyeSl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2lzX2Rpc3Bvc2VkJywgMCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT53aGVyZUhhcygnZml4ZWRBc3NldEJhdGNoSXRlbXMuYmF0Y2guY29zdENlbnRyZS5wcm9maXRDZW50cmUnLCBmdW5jdGlvbigkcXVlcnkpewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdjb21wYW55X2lkJywgcmVxdWVzdCgpLT5nZXQoJ2NvbXBhbnlfaWQnKSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5nZXQoKQogICAgICAgICAgICBdKTsKICAgICAgICB9CgogICAgICAgIGlmKHJlcXVlc3QoKS0+Z2V0KCdhY3Rpb24nKSA9PSAnYmF0Y2hlcycpewogICAgICAgICAgICAkZGF0YSA9IFsKICAgICAgICAgICAgICAgICdiYXRjaGVzJyA9PiBGaXhlZEFzc2V0QmF0Y2g6OndpdGgoWwogICAgICAgICAgICAgICAgICAgICdnb29kc1JlY2VpdmVkSXRlbXNTdG9ja0luLnJlbEdvb2RzUmVjZWl2ZWRJdGVtcy5yZWxHb29kc1JlY2VpdmVkTm90ZS5yZWxQdXJjaGFzZU9yZGVyLnB1cmNoYXNlT3JkZXJSZXF1aXNpdGlvbnMnCiAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgLT53aGVyZUhhcygnaXRlbXMnLCBmdW5jdGlvbigkcXVlcnkpewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdpc19kaXNwb3NlZCcsIDApOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+d2hlbihyZXF1ZXN0KCktPmdldCgncHJvZHVjdF9pZCcpID4gMCwgZnVuY3Rpb24oJHF1ZXJ5KXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZUhhcygnaXRlbXMnLCBmdW5jdGlvbigkcXVlcnkpewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgnZmluYWxfYXNzZXRfaWQnLCByZXF1ZXN0KCktPmdldCgncHJvZHVjdF9pZCcpKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPmdldCgpLAogICAgICAgICAgICBdOwogICAgICAgICAgICByZXR1cm4gdmlldygnYWNjb3VudGluZy5iYWNrZW5kLnBhZ2VzLmZpeGVkQXNzZXRzLnByb2Nlc3NEZXByZWNpYXRpb24uYmF0Y2hlcycsICRkYXRhKTsKICAgICAgICB9ZWxzZWlmKHJlcXVlc3QoKS0+Z2V0KCdhY3Rpb24nKSA9PSAnaXRlbXMnKXsKICAgICAgICAgICAgJGZyb20gPSBkYXRlKCdZLW0tMDEnLCBzdHJ0b3RpbWUocmVxdWVzdCgpLT5nZXQoJ3llYXInKS4nLScucmVxdWVzdCgpLT5nZXQoJ21vbnRoJykpKTsKICAgICAgICAgICAgJHRvID0gZGF0ZSgnWS1tLXQnLCBzdHJ0b3RpbWUocmVxdWVzdCgpLT5nZXQoJ3llYXInKS4nLScucmVxdWVzdCgpLT5nZXQoJ21vbnRoJykpKTsKCiAgICAgICAgICAgICRmaW5hbEFzc2V0cyA9IEZpeGVkQXNzZXRCYXRjaEl0ZW06OndpdGgoWwoKICAgICAgICAgICAgXSkKICAgICAgICAgICAgLT53aGVyZUhhcygnYmF0Y2guY29zdENlbnRyZS5wcm9maXRDZW50cmUnLCBmdW5jdGlvbigkcXVlcnkpewogICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2NvbXBhbnlfaWQnLCByZXF1ZXN0KCktPmdldCgnY29tcGFueV9pZCcpKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLT53aGVuKHJlcXVlc3QoKS0+Z2V0KCdwcm9kdWN0X2lkJykgPiAwLCBmdW5jdGlvbigkcXVlcnkpewogICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2ZpbmFsX2Fzc2V0X2lkJywgcmVxdWVzdCgpLT5nZXQoJ3Byb2R1Y3RfaWQnKSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC0+d2hlcmVEb2VzbnRIYXZlKCdkZXByZWNpYXRpb25zJywgZnVuY3Rpb24oJHF1ZXJ5KSB1c2UoJGZyb20sICR0byl7CiAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgnZnJvbScsICRmcm9tKQogICAgICAgICAgICAgICAgLT53aGVyZSgndG8nLCAkdG8pOwogICAgICAgICAgICB9KQogICAgICAgICAgICAtPndoZXJlSGFzKCdiYXRjaCcsIGZ1bmN0aW9uKCRxdWVyeSkgdXNlKCRmcm9tLCAkdG8pewogICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2RlcHJlY2lhdGlvbl9zdGFydF9kYXRlJywgJzw9JywgJHRvKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLT53aGVyZSgnaXNfZGlzcG9zZWQnLCAwKQogICAgICAgICAgICAtPmdyb3VwQnkoJ2Fzc2V0X2NvZGUnKQogICAgICAgICAgICAtPmdldCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgJGRhdGEgPSBbCiAgICAgICAgICAgICAgICAnZnJvbScgPT4gJGZyb20sCiAgICAgICAgICAgICAgICAndG8nID0+ICR0bywKICAgICAgICAgICAgICAgICdmaW5hbEFzc2V0cycgPT4gJGZpbmFsQXNzZXRzLAogICAgICAgICAgICAgICAgJ2l0ZW1zJyA9PiBGaXhlZEFzc2V0QmF0Y2hJdGVtOjp3aXRoKFsKCiAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgLT53aGVyZUhhcygnYmF0Y2guY29zdENlbnRyZS5wcm9maXRDZW50cmUnLCBmdW5jdGlvbigkcXVlcnkpewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdjb21wYW55X2lkJywgcmVxdWVzdCgpLT5nZXQoJ2NvbXBhbnlfaWQnKSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT53aGVuKHJlcXVlc3QoKS0+Z2V0KCdwcm9kdWN0X2lkJykgPiAwLCBmdW5jdGlvbigkcXVlcnkpewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdmaW5hbF9hc3NldF9pZCcsIHJlcXVlc3QoKS0+Z2V0KCdwcm9kdWN0X2lkJykpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+d2hlcmVEb2VzbnRIYXZlKCdkZXByZWNpYXRpb25zJywgZnVuY3Rpb24oJHF1ZXJ5KSB1c2UoJGZyb20sICR0byl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2Zyb20nLCAkZnJvbSkKICAgICAgICAgICAgICAgICAgICAtPndoZXJlKCd0bycsICR0byk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT53aGVyZUhhcygnYmF0Y2gnLCBmdW5jdGlvbigkcXVlcnkpIHVzZSgkZnJvbSwgJHRvKXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgnZGVwcmVjaWF0aW9uX3N0YXJ0X2RhdGUnLCAnPD0nLCAkdG8pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+d2hlcmUoJ2lzX2Rpc3Bvc2VkJywgMCkKICAgICAgICAgICAgICAgIC0+Z2V0KCksCiAgICAgICAgICAgIF07CiAgICAgICAgICAgIHJldHVybiB2aWV3KCdhY2NvdW50aW5nLmJhY2tlbmQucGFnZXMuZml4ZWRBc3NldHMucHJvY2Vzc0RlcHJlY2lhdGlvbi5pdGVtcycsICRkYXRhKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHN0b3JlKFJlcXVlc3QgJHJlcXVlc3QpCiAgICB7CiAgICAgICAgJHJlcXVlc3QtPnZhbGlkYXRlKFsKICAgICAgICAgICAgJ2Zyb20nID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICd0bycgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ2Fzc2V0cycgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ2Fzc2V0cy4qJyA9PiAncmVxdWlyZWQnLAogICAgICAgIF0pOwoKICAgICAgICBEQjo6YmVnaW5UcmFuc2FjdGlvbigpOwogICAgICAgIHRyeXsKICAgICAgICAgICAgJGpvdXJuYWxFbnRyaWVzID0gW107CiAgICAgICAgICAgICRjb3VudCA9IDA7CiAgICAgICAgICAgICRhbW91bnRzID0gW107CgogICAgICAgICAgICBpZihpc3NldCgkcmVxdWVzdC0+YXNzZXRzWzBdKSl7CiAgICAgICAgICAgICAgICBmb3JlYWNoKCRyZXF1ZXN0LT5hc3NldHMgYXMgJGtleSA9PiAkYXNzZXRfY29kZSl7CiAgICAgICAgICAgICAgICAgICAgJGl0ZW1zID0gRml4ZWRBc3NldEJhdGNoSXRlbTo6d2hlcmUoJ2Fzc2V0X2NvZGUnLCAkYXNzZXRfY29kZSktPndoZXJlKCdpc19kaXNwb3NlZCcsIDApLT5nZXQoKTsKCiAgICAgICAgICAgICAgICAgICAgaWYoJGl0ZW1zLT5jb3VudCgpID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRpdGVtcyBhcyAkaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFtb3VudCA9IHN5c3RlbURvdWJsZVZhbHVlKGNhbGN1bGF0ZURlcHJlY2lhdGlvbkFtb3VudCgkaXRlbSwgJHJlcXVlc3QtPmZyb20sICRyZXF1ZXN0LT50byksIDIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRlcHJlY2lhdGlvbiA9IEZpeGVkQXNzZXRCYXRjaEl0ZW1EZXByZWNpYXRpb246OmNyZWF0ZShbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpeGVkX2Fzc2V0X2JhdGNoX2l0ZW1faWQnID0+ICRpdGVtLT5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0ZScgPT4gZGF0ZSgnWS1tLWQnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZnJvbScgPT4gJHJlcXVlc3QtPmZyb20sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvJyA9PiAkcmVxdWVzdC0+dG8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Ftb3VudCcgPT4gJGFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmVtYXJrcycgPT4gJHJlcXVlc3QtPnJlbWFya3NbJGl0ZW0tPmFzc2V0X2NvZGVdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWFycmF5X2tleV9leGlzdHMoJGl0ZW0tPmJhdGNoLT5jb3N0X2NlbnRyZV9pZCwgJGFtb3VudHMpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW1vdW50c1skaXRlbS0+YmF0Y2gtPmNvc3RfY2VudHJlX2lkXSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW1vdW50c1skaXRlbS0+YmF0Y2gtPmNvc3RfY2VudHJlX2lkXSArPSAkYW1vdW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRleGNoYW5nZV9yYXRlX2lkID0gJGl0ZW0tPmJhdGNoLT5nb29kc1JlY2VpdmVkSXRlbXNTdG9ja0luLT5yZWxQdXJjaGFzZU9yZGVyLT5yZWxRdW90YXRpb24tPmV4Y2hhbmdlX3JhdGVfaWQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZpbmFsQXNzZXQgPSAkaXRlbTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCgkYW1vdW50cyBhcyAkY29zdF9jZW50cmVfaWQgPT4gJGFtb3VudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkam91cm5hbEVudHJpZXNbXSA9IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29zdF9jZW50cmVfaWQnID0+ICRjb3N0X2NlbnRyZV9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2hhcnRfb2ZfYWNjb3VudF9pZCcgPT4gKGlzc2V0KCRmaW5hbEFzc2V0LT5maW5hbEFzc2V0LT5kZXByZWNpYXRpb25fY29zdF9hY2NvdW50X2lkKSAmJiAkZmluYWxBc3NldC0+ZmluYWxBc3NldC0+ZGVwcmVjaWF0aW9uX2Nvc3RfYWNjb3VudF9pZCA+IDAgPyAkZmluYWxBc3NldC0+ZmluYWxBc3NldC0+ZGVwcmVjaWF0aW9uX2Nvc3RfYWNjb3VudF9pZCA6IGFjY291bnREZWZhdWx0U2V0dGluZ3MoKVsnZGVwcmVjaWF0aW9uX2Nvc3RfYWNjb3VudCddKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGViaXQnID0+ICRhbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NyZWRpdCcgPT4gMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFycmF0aW9uJyA9PiAnRml4ZWQgQXNzZXQgRGVwcmVjaWF0aW9uIENvc3QgRGViaXQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJyA9PiAnZGVwcmVjaWF0aW9uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc291cmNlJyA9PiBqc29uX2VuY29kZShbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhc3NldF9jb2RlJyA9PiAkYXNzZXRfY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Zyb20nID0+ICRyZXF1ZXN0LT5mcm9tLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG8nID0+ICRyZXF1ZXN0LT50bywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkam91cm5hbEVudHJpZXNbXSA9IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29zdF9jZW50cmVfaWQnID0+ICRjb3N0X2NlbnRyZV9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2hhcnRfb2ZfYWNjb3VudF9pZCcgPT4gKGlzc2V0KCRmaW5hbEFzc2V0LT5maW5hbEFzc2V0LT5pbnZlbnRvcnlfYWRqdXN0bWVudHNfYWNjb3VudF9pZCkgJiYgJGZpbmFsQXNzZXQtPmZpbmFsQXNzZXQtPmludmVudG9yeV9hZGp1c3RtZW50c19hY2NvdW50X2lkID4gMCA/ICRmaW5hbEFzc2V0LT5maW5hbEFzc2V0LT5pbnZlbnRvcnlfYWRqdXN0bWVudHNfYWNjb3VudF9pZCA6IGFjY291bnREZWZhdWx0U2V0dGluZ3MoKVsnaW52ZW50b3J5X2FkanVzdG1lbnRzX2FjY291bnQnXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RlYml0JyA9PiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjcmVkaXQnID0+ICRhbW91bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hcnJhdGlvbicgPT4gJ0ZpeGVkIEFzc2V0IEFkanVzdG1lbnQgQ3JlZGl0ICcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnID0+ICdkZXByZWNpYXRpb24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzb3VyY2UnID0+IGpzb25fZW5jb2RlKFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Fzc2V0X2NvZGUnID0+ICRhc3NldF9jb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZnJvbScgPT4gJHJlcXVlc3QtPmZyb20sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0bycgPT4gJHJlcXVlc3QtPnRvLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAkY291bnQrKzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKCRjb3VudCA+IDApewogICAgICAgICAgICAgICAgc2F2ZUxlZGdlckVudHJpZXMoNSwgZGF0ZSgnWS1tLWQgSDppOnMnLCBzdHJ0b3RpbWUoJHJlcXVlc3QtPnRvLicgJy5kYXRlKCdIOmk6cycpKSksIDEsICcnLCAnTW9udGhseSBEZXByZWNpYXRpb24gb2YgRml4ZWQgQXNzZXQnLCAkam91cm5hbEVudHJpZXMsICRleGNoYW5nZV9yYXRlX2lkLCAwLCAwLCAwLCBnZXRDb3N0Q2VudHJlQ29tcGFueSgkY29zdF9jZW50cmVfaWQpKTsKCiAgICAgICAgICAgICAgICBEQjo6Y29tbWl0KCk7CiAgICAgICAgICAgICAgICByZXR1cm4gJHRoaXMtPmJhY2tXaXRoU3VjY2VzcygkY291bnQuIiBhc3NldHMgaGF2ZSBiZWVuIGRlcHJpY2lhdGVkLiIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigiU29tZXRoaW5nIHdlbnQgd3JvbmchIik7CiAgICAgICAgfWNhdGNoKFxUaHJvd2FibGUgJHRoKXsKICAgICAgICAgICAgREI6OnJvbGxiYWNrKCk7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQp9Cg==