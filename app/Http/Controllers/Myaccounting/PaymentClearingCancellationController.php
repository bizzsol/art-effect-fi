<?php
bolt_decrypt( __FILE__ , 'sCUVNQ'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcTXlhY2NvdW50aW5nOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKdXNlIEFwcCwgREIsIERhdGFUYWJsZXM7CnVzZSBJbGx1bWluYXRlXFN1cHBvcnRcRmFjYWRlc1xBdXRoOwoKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xDb21wYW55Owp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXEFjY291bnRHcm91cDsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xGaXNjYWxZZWFyOwp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXEVudHJ5VHlwZTsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xUYWc7CnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQ2hhcnRPZkFjY291bnQ7CnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcRW50cnk7CnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcRW50cnlJdGVtOwoKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xDdXJyZW5jeVR5cGU7CnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQ3VycmVuY3k7CnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcRXhjaGFuZ2VSYXRlOwoKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xGaXNjYWxZZWFyQ2xvc2luZ0xlZGdlcjsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xDbGVhcmluZzsKCnVzZSBcQXBwXFVzZXI7CgpjbGFzcyBQYXltZW50Q2xlYXJpbmdDYW5jZWxsYXRpb25Db250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcgp7CiAgICBwdWJsaWMgZnVuY3Rpb24gaGVhZGVyQ29sdW1ucygkdmFsdWUgPSAnJykKICAgIHsKICAgICAgICByZXR1cm4gYXJyYXkoCiAgICAgICAgICAgIFsnU0wnLCAnU0wnXSwKICAgICAgICAgICAgWydyZWZlcmVuY2UnLCAncmVmZXJlbmNlJywgJ3RleHQtY2VudGVyJ10sCiAgICAgICAgICAgIFsnbGVkZ2VycycsICdsZWRnZXJzJywgJ3RleHQtY2VudGVyJ10sCiAgICAgICAgICAgIFsnZW50cnknLCAnZW50cnknLCAndGV4dC1jZW50ZXInXSwKICAgICAgICAgICAgWydjcmVhdGVkX2J5JywgJ2NyZWF0ZWRfYnknLCAndGV4dC1jZW50ZXInXSwKICAgICAgICAgICAgWydjcmVhdGVkX2F0JywgJ2NyZWF0ZWRfYXQnLCAndGV4dC1jZW50ZXInXSwKICAgICAgICAgICAgWydhY3Rpb25zJywgJ2FjdGlvbnMnLCAndGV4dC1jZW50ZXInXQogICAgICAgICk7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGluZGV4KCkKICAgIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAocmVxdWVzdCgpLT5hamF4KCkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBEYXRhVGFibGVzOjpvZigKICAgICAgICAgICAgICAgICAgICBDbGVhcmluZzo6d2l0aChbCiAgICAgICAgICAgICAgICAgICAgICAgICdlbnRyeS5lbnRyeVR5cGUnLAogICAgICAgICAgICAgICAgICAgICAgICAnZW50cnkuaXRlbXMuY2hhcnRPZkFjY291bnQnLAogICAgICAgICAgICAgICAgICAgICAgICAnY3JlYXRvcicKICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIC0+d2hlcmUoJ3R5cGUnLCAncGF5YWJsZScpCiAgICAgICAgICAgICAgICAgICAgLT53aGVyZSgnaXNfY2FuY2VsbGVkJywgMCkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC0+YWRkSW5kZXhDb2x1bW4oKQoKICAgICAgICAgICAgICAgIC0+ZWRpdENvbHVtbignbGVkZ2VycycsIGZ1bmN0aW9uICgkY2xlYXJpbmcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ2hhcnRPZkFjY291bnQ6OndoZXJlSW4oJ2lkJywganNvbl9kZWNvZGUoJGNsZWFyaW5nLT5sZWRnZXJzLCB0cnVlKSktPnBsdWNrKCduYW1lJyktPmltcGxvZGUoJywgJyk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignZW50cnknLCBmdW5jdGlvbiAoJGNsZWFyaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoYXV0aCgpLT51c2VyKCktPmhhc1Blcm1pc3Npb25UbygnZW50cnktdmlldycpKXsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICAnPGEgY2xhc3M9InRleHQtcHJpbWFyeSIgb25jbGljaz0iZ2V0U2hvcnREZXRhaWxzKCQodGhpcykpIiBkYXRhLWlkPSInLigkY2xlYXJpbmctPmVudHJ5LT5pZCkuJyIgZGF0YS1lbnRyeS10eXBlPSInLigkY2xlYXJpbmctPmVudHJ5LT5lbnRyeVR5cGUtPm5hbWUpLiciIGRhdGEtY29kZT0iJy4oJGNsZWFyaW5nLT5lbnRyeS0+Y29kZSkuJyI+Jy4kY2xlYXJpbmctPmVudHJ5LT5udW1iZXIuJzwvYT4nOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGNsZWFyaW5nLT5lbnRyeS0+bnVtYmVyOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+ZmlsdGVyQ29sdW1uKCdlbnRyeScsIGZ1bmN0aW9uICgkcXVlcnksICRrZXl3b3JkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmVIYXMoJ2VudHJ5JywgZnVuY3Rpb24gKCRxdWVyeSkgdXNlICgka2V5d29yZCkgewogICAgICAgICAgICAgICAgICAgICAgICAkcXVlcnktPndoZXJlKCdudW1iZXInLCAnTElLRScsICclJyAuICRrZXl3b3JkIC4gJyUnKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPm9yZGVyQ29sdW1uKCdlbnRyeScsIGZ1bmN0aW9uICgkcXVlcnksICRvcmRlcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGVhc2VTb3J0TWUoJHF1ZXJ5LCAkb3JkZXIsIEVudHJ5OjpzZWxlY3QoJ2VudHJpZXMubnVtYmVyJykKICAgICAgICAgICAgICAgICAgICAgICAgLT53aGVyZUNvbHVtbignZW50cmllcy5pZCcsICdjbGVhcmluZ3MuZW50cnlfaWQnKQogICAgICAgICAgICAgICAgICAgICAgICAtPnRha2UoMSkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAtPmVkaXRDb2x1bW4oJ2NyZWF0ZWRfYnknLCBmdW5jdGlvbiAoJGNsZWFyaW5nKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRjbGVhcmluZy0+Y3JlYXRvciA/ICRjbGVhcmluZy0+Y3JlYXRvci0+bmFtZSA6ICcnOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+ZmlsdGVyQ29sdW1uKCdjcmVhdGVkX2J5JywgZnVuY3Rpb24gKCRxdWVyeSwgJGtleXdvcmQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZUhhcygnY3JlYXRvcicsIGZ1bmN0aW9uICgkcXVlcnkpIHVzZSAoJGtleXdvcmQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHF1ZXJ5LT53aGVyZSgnbmFtZScsICdMSUtFJywgJyUnIC4gJGtleXdvcmQgLiAnJScpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+b3JkZXJDb2x1bW4oJ2NyZWF0ZWRfYnknLCBmdW5jdGlvbiAoJHF1ZXJ5LCAkb3JkZXIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGxlYXNlU29ydE1lKCRxdWVyeSwgJG9yZGVyLCBVc2VyOjpzZWxlY3QoJ3VzZXJzLm5hbWUnKQogICAgICAgICAgICAgICAgICAgICAgICAtPndoZXJlQ29sdW1uKCd1c2Vycy5pZCcsICdjbGVhcmluZ3MuY3JlYXRlZF9ieScpCiAgICAgICAgICAgICAgICAgICAgICAgIC0+dGFrZSgxKQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgIC0+ZWRpdENvbHVtbignY3JlYXRlZF9hdCcsIGZ1bmN0aW9uICgkY2xlYXJpbmcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZSgnWS1tLWQgZzppIGEnLCBzdHJ0b3RpbWUoJGNsZWFyaW5nLT5jcmVhdGVkX2F0KSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5maWx0ZXJDb2x1bW4oJ2NyZWF0ZWRfYXQnLCBmdW5jdGlvbiAoJHF1ZXJ5LCAka2V5d29yZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdjcmVhdGVkX2F0JywgJ0xJS0UnLCAnJScgLiAka2V5d29yZCAuICclJyk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5vcmRlckNvbHVtbignY3JlYXRlZF9hdCcsIGZ1bmN0aW9uICgkcXVlcnksICRvcmRlcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPm9yZGVyQnkoJ2NyZWF0ZWRfYXQnLCAkb3JkZXIpOwogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignYWN0aW9ucycsIGZ1bmN0aW9uICgkY2xlYXJpbmcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gICc8YSBjbGFzcz0iYnRuIGJ0bi14cyBidG4tZGFuZ2VyIiBvbmNsaWNrPSJjYW5jZWxDbGVhcmluZygnLigkY2xlYXJpbmctPmlkKS4nKSI+PGkgY2xhc3M9ImxhcyBsYS13aW5kb3ctY2xvc2UiPjwvaT4mbmJzcDtDYW5jZWw8L2E+JzsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPnJhd0NvbHVtbnMoWydlbnRyeScsICdhY3Rpb25zJ10pCiAgICAgICAgICAgICAgICAtPnRvSnNvbigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gdmlldygnYWNjb3VudGluZy5iYWNrZW5kLnBhZ2VzLmNsZWFyaW5ncy5wYXltZW50LmNhbmNlbCcsIFsKICAgICAgICAgICAgICAgICd0aXRsZScgPT4gJ1BheW1lbnQgQ2xlYXJpbmcgQ2FuY2VsbGF0aW9uJywKICAgICAgICAgICAgICAgICdoZWFkZXJDb2x1bW5zJyA9PiAkdGhpcy0+aGVhZGVyQ29sdW1ucygpCiAgICAgICAgICAgIF0pOwogICAgICAgIH1jYXRjaCAoXFRocm93YWJsZSAkdGgpewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmJhY2tXaXRoRXJyb3IoJHRoLT5nZXRNZXNzYWdlKCkpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gdXBkYXRlKFJlcXVlc3QgJHJlcXVlc3QsICRpZCkKICAgIHsKICAgICAgICBEQjo6YmVnaW5UcmFuc2FjdGlvbigpOwogICAgICAgIHRyeXsKICAgICAgICAgICAgJGNsZWFyaW5nID0gQ2xlYXJpbmc6OmZpbmRPckZhaWwoJGlkKTsKCiAgICAgICAgICAgICRhcnJheSA9IFtdOwogICAgICAgICAgICBpZigkY2xlYXJpbmctPmVudHJ5LT5pdGVtcy0+Y291bnQoKSA+IDApewogICAgICAgICAgICAgICAgZm9yZWFjaCgkY2xlYXJpbmctPmVudHJ5LT5pdGVtcyBhcyAka2V5ID0+ICRpdGVtKXsKICAgICAgICAgICAgICAgICAgICBhcnJheV9wdXNoKCRhcnJheSwgWwogICAgICAgICAgICAgICAgICAgICAgICAnY29zdF9jZW50cmVfaWQnID0+ICRpdGVtLT5jb3N0X2NlbnRyZV9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgJ2NoYXJ0X29mX2FjY291bnRfaWQnID0+ICRpdGVtLT5jaGFydF9vZl9hY2NvdW50X2lkLAogICAgICAgICAgICAgICAgICAgICAgICAnZGViaXQnID0+ICRpdGVtLT5kZWJpdF9jcmVkaXQgPT0gJ0MnID8gJGl0ZW0tPmFtb3VudCA6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICdjcmVkaXQnID0+ICRpdGVtLT5kZWJpdF9jcmVkaXQgPT0gJ0QnID8gJGl0ZW0tPmFtb3VudCA6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICduYXJyYXRpb24nID0+ICdSZWFsaXplZCBHYWluIEdhaW4vTG9zcyBDcmVkaXQgOjogQ2FuY2VsbGVkJywKICAgICAgICAgICAgICAgICAgICBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGVudHJ5ID0gc2F2ZUxlZGdlckVudHJpZXMoNSwgJGNsZWFyaW5nLT5lbnRyeS0+ZGF0ZS4nICcuJGNsZWFyaW5nLT5lbnRyeS0+dGltZSwgJGNsZWFyaW5nLT5lbnRyeS0+dGFnX2lkLCAkY2xlYXJpbmctPmVudHJ5LT5udW1iZXIsICRjbGVhcmluZy0+ZW50cnktPm5vdGVzLicgOjogQ2FuY2VsbGVkJywgJGFycmF5LCAkY2xlYXJpbmctPmVudHJ5LT5leGNoYW5nZV9yYXRlX2lkLCAwLCAwLCAwLCBnZXRDb3N0Q2VudHJlQ29tcGFueShhdXRoKCktPnVzZXIoKS0+Y29zdENlbnRyZS0+aWQpKTsKCiAgICAgICAgICAgIEVudHJ5SXRlbTo6d2hlcmUoJ2VudHJ5X2lkJywgJGVudHJ5WydlbnRyeSddLT5pZCkKICAgICAgICAgICAgLT51cGRhdGUoWwogICAgICAgICAgICAgICAgJ3JlYWxpemVkJyA9PiAxCiAgICAgICAgICAgIF0pOwoKICAgICAgICAgICAgRW50cnlJdGVtOjp3aGVyZUluKCdpZCcsIGpzb25fZGVjb2RlKCRjbGVhcmluZy0+ZW50cnlfaXRlbXMsIHRydWUpKQogICAgICAgICAgICAtPndoZXJlKCdyZWFsaXplZCcsIDEpCiAgICAgICAgICAgIC0+dXBkYXRlKFsKICAgICAgICAgICAgICAgICdyZWFsaXplZCcgPT4gMAogICAgICAgICAgICBdKTsKCiAgICAgICAgICAgICRjbGVhcmluZy0+aXNfY2FuY2VsbGVkID0gMTsKICAgICAgICAgICAgJGNsZWFyaW5nLT5zYXZlKCk7CiAgICAgICAgICAgIERCOjpjb21taXQoKTsKCiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKFsKICAgICAgICAgICAgICAgICdzdWNjZXNzJyA9PiB0cnVlLAogICAgICAgICAgICAgICAgJ21lc3NhZ2UnID0+ICJDbGVhcmluZyBoYXMgYmVubiBjYW5jZWxsZWQgc3VjY2Vzc2Z1bGx5LiIKICAgICAgICAgICAgXSk7IAogICAgICAgIH1jYXRjaCAoXFRocm93YWJsZSAkdGgpewogICAgICAgICAgICBEQjo6cm9sbGJhY2soKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oWwogICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IGZhbHNlLAogICAgICAgICAgICAgICAgJ21lc3NhZ2UnID0+ICR0aC0+Z2V0TWVzc2FnZSgpCiAgICAgICAgICAgIF0pOwogICAgICAgIH0KICAgIH0KfQo=