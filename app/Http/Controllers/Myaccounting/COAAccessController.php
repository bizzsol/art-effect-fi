<?php
bolt_decrypt( __FILE__ , 'iJir1A'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcTXlhY2NvdW50aW5nOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKCnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQ29tcGFueTsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xDaGFydE9mQWNjb3VudDsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xDaGFydE9mQWNjb3VudFVzZXI7CnVzZSBcQXBwXFVzZXI7CnVzZSBEQjsKCmNsYXNzIENPQUFjY2Vzc0NvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyCnsKICAgIHB1YmxpYyBmdW5jdGlvbiBpbmRleCgpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYocmVxdWVzdCgpLT5oYXMoJ2dldC1jb21wYW5pZXMnKSl7CiAgICAgICAgICAgICAgICByZXR1cm4gQ29tcGFueTo6aGFzKCdwcm9maXRDZW50cmVzLmNvc3RDZW50cmVzJykKICAgICAgICAgICAgICAgIC0+d2hlcmVIYXMoJ3VzZXJzJywgZnVuY3Rpb24oJHF1ZXJ5KXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgndXNlcl9pZCcsIHJlcXVlc3QoKS0+Z2V0KCd1c2VyX2lkJykpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+Z2V0KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRkYXRhID0gWwogICAgICAgICAgICAgICAgJ3RpdGxlJyA9PiAnQ09BIEFjY2VzcycsCiAgICAgICAgICAgICAgICAndXNlcnMnID0+IFVzZXI6OmFsbCgpLAogICAgICAgICAgICAgICAgJ2FjY291bnRzJyA9PiBDaGFydE9mQWNjb3VudDo6d2l0aChbCiAgICAgICAgICAgICAgICAgICAgJ2NvbXBhbmllcy5jb21wYW55JwogICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgIC0+d2hlcmVIYXMoJ2NvbXBhbmllcycsIGZ1bmN0aW9uKCRxdWVyeSl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2NvbXBhbnlfaWQnLCByZXF1ZXN0KCktPmdldCgnY29tcGFueV9pZCcpKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPm9yZGVyQnkoJ2NvZGUnLCAnYXNjJykKICAgICAgICAgICAgICAgIC0+Z2V0KCksCiAgICAgICAgICAgICAgICAndGhpc1VzZXInID0+IFVzZXI6OndpdGgoWwogICAgICAgICAgICAgICAgICAgICdjaGFydE9mQWNjb3VudHMnCiAgICAgICAgICAgICAgICBdKS0+ZmluZChyZXF1ZXN0KCktPmdldCgndXNlcl9pZCcpKQogICAgICAgICAgICBdOwogICAgICAgICAgICByZXR1cm4gdmlldygnYWNjb3VudGluZy5iYWNrZW5kLnBhZ2VzLmNvYS1hY2Nlc3MnLCAkZGF0YSk7CiAgICAgICAgfWNhdGNoIChcVGhyb3dhYmxlICR0aCl7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBzdG9yZShSZXF1ZXN0ICRyZXF1ZXN0KQogICAgewogICAgICAgICRyZXF1ZXN0LT52YWxpZGF0ZShbCiAgICAgICAgICAgICdjb21wYW55X2lkJyA9PiAncmVxdWlyZWQnLAogICAgICAgICAgICAndXNlcl9pZCcgPT4gJ3JlcXVpcmVkJywKICAgICAgICAgICAgJ2FjY291bnRzJyA9PiAncmVxdWlyZWQnLAogICAgICAgICAgICAnYWNjb3VudHMuKicgPT4gJ3JlcXVpcmVkJywKICAgICAgICBdKTsKCiAgICAgICAgREI6OmJlZ2luVHJhbnNhY3Rpb24oKTsKICAgICAgICB0cnl7CgogICAgICAgICAgICBDaGFydE9mQWNjb3VudFVzZXI6OndoZXJlSGFzKCdjaGFydE9mQWNjb3VudC5jb21wYW5pZXMnLCBmdW5jdGlvbigkcXVlcnkpIHVzZSgkcmVxdWVzdCl7CiAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgnY29tcGFueV9pZCcsICRyZXF1ZXN0LT5jb21wYW55X2lkKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLT53aGVyZSgndXNlcl9pZCcsICRyZXF1ZXN0LT51c2VyX2lkKQogICAgICAgICAgICAtPmRlbGV0ZSgpOwoKICAgICAgICAgICAgJGFjY291bnRzID0gW107CiAgICAgICAgICAgIGlmKGlzc2V0KCRyZXF1ZXN0LT5hY2NvdW50c1swXSkpewogICAgICAgICAgICAgICAgZm9yZWFjaCgkcmVxdWVzdC0+YWNjb3VudHMgYXMgJGNoYXJ0X29mX2FjY291bnRfaWQpewogICAgICAgICAgICAgICAgICAgIGFycmF5X3B1c2goJGFjY291bnRzLCBbCiAgICAgICAgICAgICAgICAgICAgICAgICdjaGFydF9vZl9hY2NvdW50X2lkJyA9PiAkY2hhcnRfb2ZfYWNjb3VudF9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXJfaWQnID0+ICRyZXF1ZXN0LT51c2VyX2lkLAogICAgICAgICAgICAgICAgICAgIF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgQ2hhcnRPZkFjY291bnRVc2VyOjppbnNlcnQoJGFjY291bnRzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgREI6OmNvbW1pdCgpOwogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmJhY2tXaXRoU3VjY2VzcygiQ09BIEFjY2VzcyBoYXZlIGJlZW4gVXBkYXRlZC4iKTsKICAgICAgICB9Y2F0Y2ggKFxUaHJvd2FibGUgJHRoKXsKICAgICAgICAgICAgREI6OnJvbGxiYWNrKCk7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQp9Cg==