<?php
bolt_decrypt( __FILE__ , 'bSrLGF'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcTXlhY2NvdW50aW5nXFNoYXJlZENvc3RSYXRpbzsKCnVzZSBBcHBcSHR0cFxDb250cm9sbGVyc1xDb250cm9sbGVyOwp1c2UgSWxsdW1pbmF0ZVxIdHRwXFJlcXVlc3Q7Cgp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXENvbXBhbnk7CnVzZSBEQjsKCmNsYXNzIEludGVyQ29tcGFueVNldHRpbmdzQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIKewogICAgcHVibGljIGZ1bmN0aW9uIGluZGV4KCkKICAgIHsKICAgICAgICB0cnkgewogICAgICAgICAgICAkZGF0YSA9IFsKICAgICAgICAgICAgICAgICd0aXRsZScgPT4gJ0ludGVyLUNvbXBhbnkgU2V0dGluZ3MnLAogICAgICAgICAgICAgICAgJ2FsbCcgPT4gZ2V0QWxsR3JvdXBBbmRMZWRnZXJzKGZhbHNlLCB0cnVlKSwKICAgICAgICAgICAgICAgICdjb21wYW5pZXMnID0+IENvbXBhbnk6OmhhcygncHJvZml0Q2VudHJlcy5jb3N0Q2VudHJlcycpCiAgICAgICAgICAgICAgICAtPndoZXJlSGFzKCd1c2VycycsIGZ1bmN0aW9uKCRxdWVyeSl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ3VzZXJfaWQnLCBhdXRoKCktPnVzZXIoKS0+aWQpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+Z2V0KCksCiAgICAgICAgICAgIF07CiAgICAgICAgICAgIHJldHVybiB2aWV3KCdhY2NvdW50aW5nLmJhY2tlbmQucGFnZXMuc2hhcmVkQ29zdFJhdGlvLmludGVyLWNvbXBhbnktc2V0dGluZ3MnLCAkZGF0YSk7CiAgICAgICAgfWNhdGNoIChcVGhyb3dhYmxlICR0aCl7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBzdG9yZShSZXF1ZXN0ICRyZXF1ZXN0KQogICAgewogICAgICAgICRyZXF1ZXN0LT52YWxpZGF0ZShbCiAgICAgICAgICAgICdpbnRlcmNvbXBhbnlfZGViaXRfbGVkZ2VyX2lkJyA9PiAncmVxdWlyZWQnLAogICAgICAgICAgICAnaW50ZXJjb21wYW55X2RlYml0X2xlZGdlcl9pZC4qJyA9PiAncmVxdWlyZWQnLAogICAgICAgICAgICAnaW50ZXJjb21wYW55X2NyZWRpdF9sZWRnZXJfaWQnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgICAgICdpbnRlcmNvbXBhbnlfY3JlZGl0X2xlZGdlcl9pZC4qJyA9PiAncmVxdWlyZWQnLAogICAgICAgIF0pOwoKICAgICAgICBEQjo6YmVnaW5UcmFuc2FjdGlvbigpOwogICAgICAgIHRyeXsKICAgICAgICAgICAgJGNvbXBhbmllcyA9IENvbXBhbnk6OmhhcygncHJvZml0Q2VudHJlcy5jb3N0Q2VudHJlcycpCiAgICAgICAgICAgIC0+d2hlcmVIYXMoJ3VzZXJzJywgZnVuY3Rpb24oJHF1ZXJ5KXsKICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCd1c2VyX2lkJywgYXV0aCgpLT51c2VyKCktPmlkKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLT5nZXQoKTsKICAgICAgICAgICAgaWYoaXNzZXQoJGNvbXBhbmllc1swXSkpewogICAgICAgICAgICAgICAgZm9yZWFjaCgkY29tcGFuaWVzIGFzICRjb21wYW55KXsKICAgICAgICAgICAgICAgICAgICAkY29tcGFueS0+aW50ZXJjb21wYW55X2RlYml0X2xlZGdlcl9pZCA9ICRyZXF1ZXN0LT5pbnRlcmNvbXBhbnlfZGViaXRfbGVkZ2VyX2lkWyRjb21wYW55LT5pZF07CiAgICAgICAgICAgICAgICAgICAgJGNvbXBhbnktPmludGVyY29tcGFueV9jcmVkaXRfbGVkZ2VyX2lkID0gJHJlcXVlc3QtPmludGVyY29tcGFueV9jcmVkaXRfbGVkZ2VyX2lkWyRjb21wYW55LT5pZF07CiAgICAgICAgICAgICAgICAgICAgJGNvbXBhbnktPnNhdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgREI6OmNvbW1pdCgpOwogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmJhY2tXaXRoU3VjY2VzcygiSW50ZXItQ29tcGFueSBTZXR0aW5ncyBoYXZlIGJlZW4gVXBkYXRlZC4iKTsKICAgICAgICB9Y2F0Y2ggKFxUaHJvd2FibGUgJHRoKXsKICAgICAgICAgICAgREI6OnJvbGxiYWNrKCk7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQp9Cg==