<?php
bolt_decrypt( __FILE__ , '7qiFs6'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcTXlhY2NvdW50aW5nOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKCnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcU3VwcGxpZXJzOwoKdXNlIEFwcCxEQjsKdXNlIElsbHVtaW5hdGVcU3VwcG9ydFxGYWNhZGVzXEF1dGg7CnVzZSBEYXRhVGFibGVzOwoKY2xhc3MgU3VwcGxpZXJCYWxhbmNlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIKewoKICAgIC8qKgogICAgICogU2V0IGdsb2JhbCBkYXRhIHRhYmxlIGhlYWRlcnMuCiAgICAgKgogICAgICogQHJldHVybiBoZWFkZXJDb2x1bW5zCiAgICAgKi8KICAgICBwdWJsaWMgZnVuY3Rpb24gaGVhZGVyQ29sdW1ucygkdmFsdWU9JycpCiAgICAgewogICAgICAgIHJldHVybiBhcnJheSgKICAgICAgICAgICAgWydTTCcsICdTTCddLAogICAgICAgICAgICBbJ2NvZGUnLCAnY29kZScsICd0ZXh0LWNlbnRlciddLAogICAgICAgICAgICBbJ25hbWUnLCAnbmFtZScsICd0ZXh0LWNlbnRlciddLAogICAgICAgICAgICBbJ3Bob25lJywgJ3Bob25lJywgJ3RleHQtY2VudGVyJ10sCiAgICAgICAgICAgIFsndG90YWxfYmlsbCcsICd0b3RhbF9iaWxsJywgJ3RleHQtcmlnaHQnXSwKICAgICAgICAgICAgWydiaWxsX3BhaWQnLCAnYmlsbF9wYWlkJywgJ3RleHQtcmlnaHQnXSwKICAgICAgICAgICAgWyduZXRfYmlsbCcsICduZXRfYmlsbCcsICd0ZXh0LXJpZ2h0J10sCiAgICAgICAgICAgIFsnYWR2YW5jZV9wYWlkJywgJ2FkdmFuY2VfcGFpZCcsICd0ZXh0LXJpZ2h0J10sCiAgICAgICAgICAgIFsnbmV0X2R1ZScsICduZXRfZHVlJywgJ3RleHQtcmlnaHQnXSwKICAgICAgICApOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBpbmRleCgpCiAgICB7CiAgICAgICAgJGRhdGUgPSByZXF1ZXN0KCktPmhhcygnZGF0ZScpICYmIHN0cnRvdGltZShyZXF1ZXN0KCktPmdldCgnZGF0ZScpKSA+IDAgPyBkYXRlKCdZLW0tZCcsIHN0cnRvdGltZShyZXF1ZXN0KCktPmdldCgnZGF0ZScpKSkgOiBkYXRlKCdZLW0tZCcpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmIChyZXF1ZXN0KCktPmFqYXgoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIERhdGF0YWJsZXM6Om9mKAogICAgICAgICAgICAgICAgICAgIFN1cHBsaWVyczo6d2l0aChbCiAgICAgICAgICAgICAgICAgICAgICAgICdyZWxRdW90YXRpb25zLnJlbFB1cmNoYXNlT3JkZXIucmVsUG9BdHRhY2htZW50JywKICAgICAgICAgICAgICAgICAgICAgICAgJ3JlbFBheW1lbnRzJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3N1cHBsaWVyTGVkZ2VycycKICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIC0+d2hlbighZGF0YXRhYmxlT3JkZXJpbmcoKSwgZnVuY3Rpb24oJHF1ZXJ5KXsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+b3JkZXJieSgnY29kZScsICdhc2MnKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLT5hZGRJbmRleENvbHVtbigpCiAgICAgICAgICAgICAgICAtPmFkZENvbHVtbigndG90YWxfYmlsbCcsIGZ1bmN0aW9uICgkc3VwcGxpZXIpIHVzZSgkZGF0ZSkgewogICAgICAgICAgICAgICAgICAgICR0b3RhbF9iaWxsID0gJHN1cHBsaWVyLT5yZWxQYXltZW50cy0+d2hlcmUoJ3RyYW5zZWN0aW9uX2RhdGUnLCAnPD0nLCAkZGF0ZS4nIDIzOjU5OjU5JyktPndoZXJlKCdiaWxsX3R5cGUnLCAnIT0nLCAncG8tYWR2YW5jZScpLT5zdW0oJ2JpbGxfYW1vdW50Jyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5c3RlbU1vbmV5Rm9ybWF0KCR0b3RhbF9iaWxsKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignYmlsbF9wYWlkJywgZnVuY3Rpb24gKCRzdXBwbGllcikgdXNlKCRkYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgJGJpbGxfcGFpZCA9IDA7CiAgICAgICAgICAgICAgICAgICAgaWYoJHN1cHBsaWVyLT5yZWxQYXltZW50cy0+d2hlcmUoJ3RyYW5zZWN0aW9uX2RhdGUnLCAnPD0nLCAkZGF0ZS4nIDIzOjU5OjU5JyktPndoZXJlKCdiaWxsX3R5cGUnLCAnIT0nLCAncG8tYWR2YW5jZScpLT5jb3VudCgpID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2goJHN1cHBsaWVyLT5yZWxQYXltZW50cy0+d2hlcmUoJ3RyYW5zZWN0aW9uX2RhdGUnLCAnPD0nLCAkZGF0ZS4nIDIzOjU5OjU5JyktPndoZXJlKCdiaWxsX3R5cGUnLCAnIT0nLCAncG8tYWR2YW5jZScpIGFzICRrZXkgPT4gJHBheW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJpbGxfcGFpZCArPSAkcGF5bWVudC0+cmVsU3VwcGxpZXJMZWRnZXJzLT5zdW0oJ2RlYml0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICRhZHZhbmNlQ2xlYXJlZCA9IDA7CiAgICAgICAgICAgICAgICAgICAgaWYoJHN1cHBsaWVyLT5wdXJjaGFzZU9yZGVyRW50cmllcy0+d2hlcmUoJ3R5cGUnLCAnYWR2YW5jZS1jbGVhcmluZycpLT5jb3VudCgpID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2goJHN1cHBsaWVyLT5wdXJjaGFzZU9yZGVyRW50cmllcy0+d2hlcmUoJ3R5cGUnLCAnYWR2YW5jZS1jbGVhcmluZycpIGFzICRrZXkgPT4gJGVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYWR2YW5jZUNsZWFyZWQgKz0gJGVudC0+ZW50cnktPmRlYml0OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBzeXN0ZW1Nb25leUZvcm1hdCgkYmlsbF9wYWlkKyRhZHZhbmNlQ2xlYXJlZCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5hZGRDb2x1bW4oJ25ldF9iaWxsJywgZnVuY3Rpb24gKCRzdXBwbGllcikgdXNlKCRkYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2JpbGwgPSAkc3VwcGxpZXItPnJlbFBheW1lbnRzLT53aGVyZSgndHJhbnNlY3Rpb25fZGF0ZScsICc8PScsICRkYXRlLicgMjM6NTk6NTknKS0+d2hlcmUoJ2JpbGxfdHlwZScsICchPScsICdwby1hZHZhbmNlJyktPnN1bSgnYmlsbF9hbW91bnQnKTsKICAgICAgICAgICAgICAgICAgICAkYmlsbF9wYWlkID0gMDsKICAgICAgICAgICAgICAgICAgICBpZigkc3VwcGxpZXItPnJlbFBheW1lbnRzLT53aGVyZSgndHJhbnNlY3Rpb25fZGF0ZScsICc8PScsICRkYXRlLicgMjM6NTk6NTknKS0+d2hlcmUoJ2JpbGxfdHlwZScsICchPScsICdwby1hZHZhbmNlJyktPmNvdW50KCkgPiAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCgkc3VwcGxpZXItPnJlbFBheW1lbnRzLT53aGVyZSgndHJhbnNlY3Rpb25fZGF0ZScsICc8PScsICRkYXRlLicgMjM6NTk6NTknKS0+d2hlcmUoJ2JpbGxfdHlwZScsICchPScsICdwby1hZHZhbmNlJykgYXMgJGtleSA9PiAkcGF5bWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYmlsbF9wYWlkICs9ICRwYXltZW50LT5yZWxTdXBwbGllckxlZGdlcnMtPnN1bSgnZGViaXQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgJGFkdmFuY2VDbGVhcmVkID0gMDsKICAgICAgICAgICAgICAgICAgICBpZigkc3VwcGxpZXItPnB1cmNoYXNlT3JkZXJFbnRyaWVzLT53aGVyZSgndHlwZScsICdhZHZhbmNlLWNsZWFyaW5nJyktPmNvdW50KCkgPiAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCgkc3VwcGxpZXItPnB1cmNoYXNlT3JkZXJFbnRyaWVzLT53aGVyZSgndHlwZScsICdhZHZhbmNlLWNsZWFyaW5nJykgYXMgJGtleSA9PiAkZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhZHZhbmNlQ2xlYXJlZCArPSAkZW50LT5lbnRyeS0+ZGViaXQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5c3RlbU1vbmV5Rm9ybWF0KCR0b3RhbF9iaWxsLSgkYmlsbF9wYWlkKyRhZHZhbmNlQ2xlYXJlZCkpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+YWRkQ29sdW1uKCdhZHZhbmNlX3BhaWQnLCBmdW5jdGlvbiAoJHN1cHBsaWVyKSB1c2UoJGRhdGUpIHsKICAgICAgICAgICAgICAgICAgICAkYWR2YW5jZV9wYWlkID0gMDsKICAgICAgICAgICAgICAgICAgICBpZigkc3VwcGxpZXItPnJlbFBheW1lbnRzLT53aGVyZSgndHJhbnNlY3Rpb25fZGF0ZScsICc8PScsICRkYXRlLicgMjM6NTk6NTknKS0+d2hlcmUoJ2JpbGxfdHlwZScsICdwby1hZHZhbmNlJyktPmNvdW50KCkgPiAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCgkc3VwcGxpZXItPnJlbFBheW1lbnRzLT53aGVyZSgndHJhbnNlY3Rpb25fZGF0ZScsICc8PScsICRkYXRlLicgMjM6NTk6NTknKS0+d2hlcmUoJ2JpbGxfdHlwZScsICdwby1hZHZhbmNlJykgYXMgJGtleSA9PiAkcGF5bWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYWR2YW5jZV9wYWlkICs9ICRwYXltZW50LT5yZWxTdXBwbGllckxlZGdlcnMtPnN1bSgnZGViaXQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgJGFkdmFuY2VDbGVhcmVkID0gMDsKICAgICAgICAgICAgICAgICAgICBpZigkc3VwcGxpZXItPnB1cmNoYXNlT3JkZXJFbnRyaWVzLT53aGVyZSgndHlwZScsICdhZHZhbmNlLWNsZWFyaW5nJyktPmNvdW50KCkgPiAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCgkc3VwcGxpZXItPnB1cmNoYXNlT3JkZXJFbnRyaWVzLT53aGVyZSgndHlwZScsICdhZHZhbmNlLWNsZWFyaW5nJykgYXMgJGtleSA9PiAkZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhZHZhbmNlQ2xlYXJlZCArPSAkZW50LT5lbnRyeS0+ZGViaXQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN5c3RlbU1vbmV5Rm9ybWF0KCRhZHZhbmNlX3BhaWQtJGFkdmFuY2VDbGVhcmVkKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPmFkZENvbHVtbignbmV0X2R1ZScsIGZ1bmN0aW9uICgkc3VwcGxpZXIpIHVzZSgkZGF0ZSkgewogICAgICAgICAgICAgICAgICAgICR0b3RhbF9iaWxsID0gJHN1cHBsaWVyLT5yZWxQYXltZW50cy0+d2hlcmUoJ3RyYW5zZWN0aW9uX2RhdGUnLCAnPD0nLCAkZGF0ZS4nIDIzOjU5OjU5JyktPndoZXJlKCdiaWxsX3R5cGUnLCAnIT0nLCAncG8tYWR2YW5jZScpLT5zdW0oJ2JpbGxfYW1vdW50Jyk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgJGJpbGxfcGFpZCA9IDA7CiAgICAgICAgICAgICAgICAgICAgaWYoJHN1cHBsaWVyLT5yZWxQYXltZW50cy0+d2hlcmUoJ3RyYW5zZWN0aW9uX2RhdGUnLCAnPD0nLCAkZGF0ZS4nIDIzOjU5OjU5JyktPndoZXJlKCdiaWxsX3R5cGUnLCAnIT0nLCAncG8tYWR2YW5jZScpLT5jb3VudCgpID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2goJHN1cHBsaWVyLT5yZWxQYXltZW50cy0+d2hlcmUoJ3RyYW5zZWN0aW9uX2RhdGUnLCAnPD0nLCAkZGF0ZS4nIDIzOjU5OjU5JyktPndoZXJlKCdiaWxsX3R5cGUnLCAnIT0nLCAncG8tYWR2YW5jZScpIGFzICRrZXkgPT4gJHBheW1lbnQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJpbGxfcGFpZCArPSAkcGF5bWVudC0+cmVsU3VwcGxpZXJMZWRnZXJzLT5zdW0oJ2RlYml0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICRhZHZhbmNlX3BhaWQgPSAwOwogICAgICAgICAgICAgICAgICAgIGlmKCRzdXBwbGllci0+cmVsUGF5bWVudHMtPndoZXJlKCd0cmFuc2VjdGlvbl9kYXRlJywgJzw9JywgJGRhdGUuJyAyMzo1OTo1OScpLT53aGVyZSgnYmlsbF90eXBlJywgJ3BvLWFkdmFuY2UnKS0+Y291bnQoKSA+IDApewogICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoKCRzdXBwbGllci0+cmVsUGF5bWVudHMtPndoZXJlKCd0cmFuc2VjdGlvbl9kYXRlJywgJzw9JywgJGRhdGUuJyAyMzo1OTo1OScpLT53aGVyZSgnYmlsbF90eXBlJywgJ3BvLWFkdmFuY2UnKSBhcyAka2V5ID0+ICRwYXltZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhZHZhbmNlX3BhaWQgKz0gJHBheW1lbnQtPnJlbFN1cHBsaWVyTGVkZ2Vycy0+c3VtKCdkZWJpdCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3lzdGVtTW9uZXlGb3JtYXQoKCR0b3RhbF9iaWxsLSRiaWxsX3BhaWQpLSRhZHZhbmNlX3BhaWQpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC0+cmF3Q29sdW1ucyhbXSkKICAgICAgICAgICAgICAgIC0+bWFrZSh0cnVlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGRhdGEgPSBbCiAgICAgICAgICAgICAgICAndGl0bGUnID0+ICdTdXBwbGllciBCYWxhbmNlcycsCiAgICAgICAgICAgICAgICAnZGF0ZScgPT4gJGRhdGUsCiAgICAgICAgICAgICAgICAnaGVhZGVyQ29sdW1ucycgPT4gJHRoaXMtPmhlYWRlckNvbHVtbnMoKSwKICAgICAgICAgICAgXTsKICAgICAgICAgICAgcmV0dXJuIHZpZXcoJ2FjY291bnRpbmcuYmFja2VuZC5wYWdlcy5zdXBwbGllckJhbGFuY2UuaW5kZXgnLCAkZGF0YSk7CiAgICAgICAgfWNhdGNoIChcVGhyb3dhYmxlICR0aCl7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQp9Cg==