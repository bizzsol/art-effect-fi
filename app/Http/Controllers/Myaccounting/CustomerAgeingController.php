<?php
bolt_decrypt( __FILE__ , 'XV4fNj'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcTXlhY2NvdW50aW5nOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKCnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQ29tcGFueTsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xQcm9maXRDZW50cmU7CnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQ29zdENlbnRyZTsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xGaXNjYWxZZWFyOwp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXEVudHJ5VHlwZTsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xUYWc7CnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQ2hhcnRPZkFjY291bnQ7CnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcU3ViTGVkZ2VyOwp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXEVudHJ5Owp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXEVudHJ5SXRlbTsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xFbnRyeUxvZzsKCnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQ3VycmVuY3lUeXBlOwp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXEN1cnJlbmN5Owp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXEV4Y2hhbmdlUmF0ZTsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xGaXNjYWxZZWFyQ2xvc2luZzsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xGaXNjYWxZZWFyQ2xvc2luZ0xlZGdlcjsKCnVzZSBBcHAsREI7CnVzZSBJbGx1bWluYXRlXFN1cHBvcnRcRmFjYWRlc1xBdXRoOwoKY2xhc3MgQ3VzdG9tZXJBZ2VpbmdDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcgp7CiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Q29tcGFuaWVzKCRjb21wYW55X2lkLCAkcHJvZml0X2NlbnRyZV9pZCA9IDAsICRjb2RlID0gbnVsbCwgJHBhZ2luYXRpb24gPSBmYWxzZSwgJHBhZ2UgPSBmYWxzZSwgJHBlcl9wYWdlID0gMTAwMDAwMDApCiAgICB7CiAgICAgICAgJGxvZ3MgPSBFbnRyeUxvZzo6d2hlcmVIYXMoJ2VudHJ5Lml0ZW1zLmNvc3RDZW50cmUucHJvZml0Q2VudHJlJywgZnVuY3Rpb24oJHF1ZXJ5KSB1c2UoJGNvbXBhbnlfaWQpewogICAgICAgICAgICByZXR1cm4gICRxdWVyeS0+d2hlcmUoJ2NvbXBhbnlfaWQnLCAkY29tcGFueV9pZCk7CiAgICAgICAgfSkKICAgICAgICAtPndoZW4oJHByb2ZpdF9jZW50cmVfaWQgPiAwLCBmdW5jdGlvbigkcXVlcnkpIHVzZSgkcHJvZml0X2NlbnRyZV9pZCl7CiAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlSGFzKCdlbnRyeS5pdGVtcy5jb3N0Q2VudHJlJywgZnVuY3Rpb24oJHF1ZXJ5KSB1c2UoJHByb2ZpdF9jZW50cmVfaWQpewogICAgICAgICAgICAgICAgcmV0dXJuICAkcXVlcnktPndoZXJlKCdwcm9maXRfY2VudHJlX2lkJywgJHByb2ZpdF9jZW50cmVfaWQpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC0+d2hlbighZW1wdHkoJGNvZGUpLCBmdW5jdGlvbigkcXVlcnkpIHVzZSgkY29kZSl7CiAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlSnNvbkNvbnRhaW5zKCd2YWx1ZScsIFsnY29tcGFueV9jb2RlJyA9PiAkY29kZV0pOwogICAgICAgIH0pCiAgICAgICAgLT5zZWxlY3QoREI6OnJhdygiSlNPTl9FWFRSQUNUKHZhbHVlLCAnJFsqXS5jb21wYW55X2NvZGUnKSBhcyBjb2RlLCBKU09OX0VYVFJBQ1QodmFsdWUsICckWypdLmNvbXBhbnlfbmFtZScpIGFzIG5hbWUiKSkKICAgICAgICAtPmdyb3VwQnkoJ2NvZGUnKTsKCiAgICAgICAgaWYoJHBhZ2luYXRpb24pewogICAgICAgICAgICAkbG9ncyA9ICRwYWdlID8gJGxvZ3MtPnBhZ2luYXRlKCRwZXJfcGFnZSwgWycqJ10sICdwYWdlJywgJHBhZ2UpLT53aXRoUXVlcnlTdHJpbmcoKSA6ICRsb2dzLT5wYWdpbmF0ZSgkcGVyX3BhZ2UpLT53aXRoUXVlcnlTdHJpbmcoKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgJGxvZ3MgPSAkbG9ncy0+Z2V0KCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAnZGF0YScgPT4gYXJyYXlfdmFsdWVzKGFycmF5X2ZpbHRlcihhcnJheV9tYXAoZnVuY3Rpb24oJGFycmF5KXsKICAgICAgICAgICAgICAgIGlmKGlzc2V0KCRhcnJheVsnY29kZSddKSAmJiBpc3NldCgkYXJyYXlbJ25hbWUnXSkpewogICAgICAgICAgICAgICAgICAgICRkZWNvZGVkQ29kZSA9IGpzb25fZGVjb2RlKCRhcnJheVsnY29kZSddKTsKICAgICAgICAgICAgICAgICAgICAkZGVjb2RlZE5hbWUgPSBqc29uX2RlY29kZSgkYXJyYXlbJ25hbWUnXSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgICAgICAgICAgICAgJ2NvZGUnID0+IGlzc2V0KCRkZWNvZGVkQ29kZVswXSkgPyAkZGVjb2RlZENvZGVbMF0gOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnID0+IGlzc2V0KCRkZWNvZGVkTmFtZVswXSkgPyAkZGVjb2RlZE5hbWVbMF0gOiAnJwogICAgICAgICAgICAgICAgICAgIF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIGNvbGxlY3QoJHBhZ2luYXRpb24gPyAkbG9ncy0+aXRlbXMoKSA6ICRsb2dzKS0+dG9BcnJheSgpKSkpLAogICAgICAgICAgICAnbG9ncycgPT4gJGxvZ3MKICAgICAgICBdOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBpbmRleCgpCiAgICB7CiAgICAgICAgaWYocmVxdWVzdCgpLT5oYXMoJ2dldC1jb21wYW5pZXMnKSl7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+Z2V0Q29tcGFuaWVzKHJlcXVlc3QoKS0+Z2V0KCdjb21wYW55X2lkJyksIHJlcXVlc3QoKS0+Z2V0KCdwcm9maXRfY2VudHJlX2lkJykpOwogICAgICAgIH0KCiAgICAgICAgJHRpdGxlID0gJ1JlcG9ydCAtIEN1c3RvbWVyIEFnZWluZyc7CgogICAgICAgICRjb21wYW55X2lkID0gcmVxdWVzdCgpLT5oYXMoJ2NvbXBhbnlfaWQnKSA/IHJlcXVlc3QoKS0+Z2V0KCdjb21wYW55X2lkJykgOiAwOwogICAgICAgICRwcm9maXRfY2VudHJlX2lkID0gcmVxdWVzdCgpLT5oYXMoJ3Byb2ZpdF9jZW50cmVfaWQnKSA/IHJlcXVlc3QoKS0+Z2V0KCdwcm9maXRfY2VudHJlX2lkJykgOiAwOwogICAgICAgICRjdXN0b21lcl9jb2RlID0gcmVxdWVzdCgpLT5oYXMoJ2N1c3RvbWVyX2NvZGUnKSA/IHJlcXVlc3QoKS0+Z2V0KCdjdXN0b21lcl9jb2RlJykgOiAnJzsKICAgICAgICAKICAgICAgICAkY2hhcnRfb2ZfYWNjb3VudF9pZCA9IHJlcXVlc3QoKS0+aGFzKCdjaGFydF9vZl9hY2NvdW50X2lkJykgPyByZXF1ZXN0KCktPmdldCgnY2hhcnRfb2ZfYWNjb3VudF9pZCcpIDogW107CiAgICAgICAgJGNoYXJ0X29mX2FjY291bnRfaWQgPSBpc19hcnJheSgkY2hhcnRfb2ZfYWNjb3VudF9pZCkgJiYgaXNzZXQoJGNoYXJ0X29mX2FjY291bnRfaWRbMF0pID8gJGNoYXJ0X29mX2FjY291bnRfaWQgOiAoIWlzX2FycmF5KCRjaGFydF9vZl9hY2NvdW50X2lkKSAmJiAoaW50KSgkY2hhcnRfb2ZfYWNjb3VudF9pZCkgPiAwID8gWyRjaGFydF9vZl9hY2NvdW50X2lkXSA6IFtdKTsKICAgICAgICAkbmFycmF0aW9uID0gcmVxdWVzdCgpLT5oYXMoJ25hcnJhdGlvbicpID8gcmVxdWVzdCgpLT5nZXQoJ25hcnJhdGlvbicpIDogJyc7CgogICAgICAgICRjdXJyZW5jeV9pZCA9IHJlcXVlc3QoKS0+aGFzKCdjdXJyZW5jeV9pZCcpID8gcmVxdWVzdCgpLT5nZXQoJ2N1cnJlbmN5X2lkJykgOiAwOwogICAgICAgICRkYXRlID0gcmVxdWVzdCgpLT5oYXMoJ2RhdGUnKSA/IHJlcXVlc3QoKS0+Z2V0KCdkYXRlJykgOiBkYXRlKCdZLW0tZCcpOwoKICAgICAgICAkY3VzdG9tZXJzID0gJHRoaXMtPmdldENvbXBhbmllcygkY29tcGFueV9pZCwgJHByb2ZpdF9jZW50cmVfaWQsICRjdXN0b21lcl9jb2RlLCB0cnVlLCByZXF1ZXN0KCktPmhhcygncGFnZScpID8gcmVxdWVzdCgpLT5nZXQoJ3BhZ2UnKSA6IGZhbHNlLCByZXF1ZXN0KCktPmdldCgncGVyX3BhZ2UnKSk7CgogICAgICAgICRpdGVtcyA9IERCOjp0YWJsZSgnZW50cnlfaXRlbXMnKQogICAgICAgIAogICAgICAgIC0+am9pbignZW50cmllcycsICdlbnRyaWVzLmlkJywgJz0nLCAnZW50cnlfaXRlbXMuZW50cnlfaWQnKQoKICAgICAgICAtPmpvaW4oJ2VudHJ5X2xvZ3MnLCAnZW50cnlfbG9ncy5lbnRyeV9pZCcsICc9JywgJ2VudHJpZXMuaWQnKQogICAgICAgIAogICAgICAgIC0+am9pbignZXhjaGFuZ2VfcmF0ZXMnLCAnZXhjaGFuZ2VfcmF0ZXMuaWQnLCAnPScsICdlbnRyaWVzLmV4Y2hhbmdlX3JhdGVfaWQnKQogICAgICAgIAogICAgICAgIC0+am9pbignY29zdF9jZW50cmVzJywgJ2Nvc3RfY2VudHJlcy5pZCcsICc9JywgJ2VudHJ5X2l0ZW1zLmNvc3RfY2VudHJlX2lkJykKICAgICAgICAtPmpvaW4oJ3Byb2ZpdF9jZW50cmVzJywgJ3Byb2ZpdF9jZW50cmVzLmlkJywgJz0nLCAnY29zdF9jZW50cmVzLnByb2ZpdF9jZW50cmVfaWQnKQoKICAgICAgICAtPndoZXJlKCdlbnRyaWVzLmlzX2FwcHJvdmVkJywgJ2FwcHJvdmVkJykKICAgICAgICAtPndoZXJlKCdwcm9maXRfY2VudHJlcy5jb21wYW55X2lkJywgJGNvbXBhbnlfaWQpCiAgICAgICAgLT53aGVyZSgnZW50cmllcy5kYXRlJywgJzw9JywgJGRhdGUpCgogICAgICAgIC0+d2hlbighZW1wdHkoJG5hcnJhdGlvbiksIGZ1bmN0aW9uKCRxdWVyeSkgdXNlKCRuYXJyYXRpb24pewogICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZShmdW5jdGlvbigkcXVlcnkpIHVzZSgkbmFycmF0aW9uKXsKICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdlbnRyaWVzLm5vdGVzJywgJ0xJS0UnLCAnJScuJG5hcnJhdGlvbi4nJScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLT5vcldoZXJlKCdlbnRyeV9pdGVtcy5uYXJyYXRpb24nLCAnTElLRScsICclJy4kbmFycmF0aW9uLiclJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pCgogICAgICAgIC0+d2hlbigkcHJvZml0X2NlbnRyZV9pZCA+IDAsIGZ1bmN0aW9uKCRxdWVyeSkgdXNlKCRwcm9maXRfY2VudHJlX2lkKXsKICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2Nvc3RfY2VudHJlcy5wcm9maXRfY2VudHJlX2lkJywgJHByb2ZpdF9jZW50cmVfaWQpOwogICAgICAgIH0pCiAgICAgICAgLT53aGVuKCRjdXJyZW5jeV9pZCA+IDAsIGZ1bmN0aW9uKCRxdWVyeSkgdXNlKCRjdXJyZW5jeV9pZCl7CiAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdleGNoYW5nZV9yYXRlcy5jdXJyZW5jeV9pZCcsICRjdXJyZW5jeV9pZCk7CiAgICAgICAgfSk7CgogICAgICAgICRjdXN0b21lckNvZGVzID0gY29sbGVjdCgkY3VzdG9tZXJzWydkYXRhJ10pLT5wbHVjaygnY29kZScpLT50b0FycmF5KCk7CiAgICAgICAgZm9yZWFjaCgkY3VzdG9tZXJDb2RlcyBhcyAka2V5ID0+ICRjb2RlKXsKICAgICAgICAgICAgaWYoJGtleSA9PSAwKXsKICAgICAgICAgICAgICAgICRpdGVtcyA9ICRpdGVtcy0+d2hlcmVKc29uQ29udGFpbnMoJ2VudHJ5X2xvZ3MudmFsdWUnLCBbJ2NvbXBhbnlfY29kZScgPT4gJGNvZGVdKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAkaXRlbXMgPSAkaXRlbXMtPm9yV2hlcmVKc29uQ29udGFpbnMoJ2VudHJ5X2xvZ3MudmFsdWUnLCBbJ2NvbXBhbnlfY29kZScgPT4gJGNvZGVdKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAkaXRlbXMgPSAkaXRlbXMtPnNlbGVjdChbCiAgICAgICAgICAgICdlbnRyeV9pdGVtcy5pZCcsCiAgICAgICAgICAgIERCOjpyYXcoIkpTT05fRVhUUkFDVChlbnRyeV9sb2dzLnZhbHVlLCAnJFsqXS5jb21wYW55X2NvZGUnKSBhcyBjb21wYW55X2NvZGUiKSwKICAgICAgICAgICAgJ2VudHJpZXMuZGF0ZScsCiAgICAgICAgICAgICdlbnRyeV9pdGVtcy5jaGFydF9vZl9hY2NvdW50X2lkJywKICAgICAgICAgICAgJ2VudHJ5X2l0ZW1zLmRlYml0X2NyZWRpdCcsCiAgICAgICAgICAgICdlbnRyeV9pdGVtcy5hbW91bnQnLAogICAgICAgICAgICAnY29zdF9jZW50cmVzLnByb2ZpdF9jZW50cmVfaWQnCiAgICAgICAgXSkKICAgICAgICAtPmdldCgpOwoKICAgICAgICAkY29tcGFuaWVzID0gQ29tcGFueTo6d2l0aChbCiAgICAgICAgICAgICdwcm9maXRDZW50cmVzJyA9PiBmdW5jdGlvbigkcXVlcnkpIHVzZSgkaXRlbXMpewogICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmVJbignaWQnLCAkaXRlbXMtPnBsdWNrKCdwcm9maXRfY2VudHJlX2lkJyktPnRvQXJyYXkoKSk7CiAgICAgICAgICAgIH0KICAgICAgICBdKQogICAgICAgIC0+d2hlcmVIYXMoJ3VzZXJzJywgZnVuY3Rpb24oJHF1ZXJ5KXsKICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ3VzZXJfaWQnLCBhdXRoKCktPnVzZXIoKS0+aWQpOwogICAgICAgIH0pCiAgICAgICAgLT5nZXQoKTsKCiAgICAgICAgaWYocmVxdWVzdCgpLT5oYXMoJ3JlcG9ydF90eXBlJykpewogICAgICAgICAgICAkZGF0YSA9IFsKICAgICAgICAgICAgICAgICd0aXRsZScgPT4gJHRpdGxlLAogICAgICAgICAgICAgICAgJ2RhdGUnID0+ICRkYXRlLAogICAgICAgICAgICAgICAgJ2N1c3RvbWVycycgPT4gY29sbGVjdCgkY3VzdG9tZXJzWydkYXRhJ10pLAogICAgICAgICAgICAgICAgJ3BhZ2luYXRlJyA9PiAkY3VzdG9tZXJzWydsb2dzJ10sCiAgICAgICAgICAgICAgICAnaXRlbXMnID0+ICRpdGVtcywKICAgICAgICAgICAgICAgICd0aGlzX2NvbXBhbnknID0+ICRjb21wYW5pZXMtPndoZXJlKCdpZCcsICRjb21wYW55X2lkKS0+Zmlyc3QoKSwKICAgICAgICAgICAgICAgICdzZWFyY2hBY2NvdW50cycgPT4gQ2hhcnRPZkFjY291bnQ6OndpdGgoWwogICAgICAgICAgICAgICAgICAgICdhY2NvdW50R3JvdXAnCiAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgLT53aGVyZUluKCdpZCcsICRjaGFydF9vZl9hY2NvdW50X2lkKQogICAgICAgICAgICAgICAgLT5nZXQoKQogICAgICAgICAgICBdOwoKICAgICAgICAgICAgaWYocmVxdWVzdCgpLT5nZXQoJ3JlcG9ydF90eXBlJykgPT0gJ3BkZicpewogICAgICAgICAgICAgICAgcmV0dXJuIHZpZXdNUERGKCdhY2NvdW50aW5nLmJhY2tlbmQucGFnZXMucmVwb3J0cy5jdXN0b21lckFnZWluZy5wZGYnLCAkZGF0YSwgJHRpdGxlLCAkdGl0bGUsICdhNCcsICdMJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKHJlcXVlc3QoKS0+Z2V0KCdyZXBvcnRfdHlwZScpID09ICdleGNlbCcpewogICAgICAgICAgICAgICAgcmV0dXJuIGRvd25sb2FkRXhjZWwoJ2FjY291bnRpbmcuYmFja2VuZC5wYWdlcy5yZXBvcnRzLmN1c3RvbWVyQWdlaW5nLmV4Y2VsJywgJGRhdGEsICR0aXRsZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKHJlcXVlc3QoKS0+Z2V0KCdyZXBvcnRfdHlwZScpID09ICdyZXBvcnQnKXsKICAgICAgICAgICAgICAgIHJldHVybiB2aWV3KCdhY2NvdW50aW5nLmJhY2tlbmQucGFnZXMucmVwb3J0cy5jdXN0b21lckFnZWluZy5yZXBvcnQnLCAkZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRhbGwgPSBnZXRBbGxHcm91cEFuZExlZGdlcnMoZmFsc2UsIHRydWUpOwogICAgICAgICAgICAkZ2V0QWN0aXZlRmlzY2FsWWVhciA9IGdldEFjdGl2ZUZpc2NhbFllYXIoJGNvbXBhbnlfaWQpOwogICAgICAgICAgICAkZGF0YSA9IFsKICAgICAgICAgICAgICAgICd0aXRsZScgPT4gJHRpdGxlLAogICAgICAgICAgICAgICAgJ2RhdGUnID0+ICRkYXRlLAogICAgICAgICAgICAgICAgJ2FjY291bnREZWZhdWx0U2V0dGluZ3MnID0+IGFjY291bnREZWZhdWx0U2V0dGluZ3MoKSwKICAgICAgICAgICAgICAgICdjdXJyZW5jeScgPT4gQ3VycmVuY3k6OmZpbmQoJGN1cnJlbmN5X2lkKSwKICAgICAgICAgICAgICAgICdjdXJyZW5jeVR5cGVzJyA9PiBDdXJyZW5jeVR5cGU6OndpdGgoWydjdXJyZW5jaWVzJ10pLT5nZXQoKSwKICAgICAgICAgICAgICAgICdjb21wYW5pZXMnID0+ICRjb21wYW5pZXMsCiAgICAgICAgICAgICAgICAncHJvZml0Q2VudHJlcycgPT4gUHJvZml0Q2VudHJlOjp3aGVyZSgnY29tcGFueV9pZCcsICRjb21wYW5pZXMtPmZpcnN0KCktPmlkKS0+b3JkZXJCeSgnY29kZScsICdhc2MnKS0+Z2V0KCksCiAgICAgICAgICAgICAgICAnY3VzdG9tZXJzJyA9PiBjb2xsZWN0KCRjdXN0b21lcnNbJ2RhdGEnXSksCiAgICAgICAgICAgICAgICAnY2hhcnRPZkFjY291bnRzT3B0aW9ucycgPT4gY2hhcnRPZkFjY291bnRzT3B0aW9ucyhbXSwgMCwgMCwgJGFsbCwgZmFsc2UsICd5ZXMnLCBmYWxzZSwgWyRjb21wYW55X2lkXSwgdHJ1ZSwgZ2V0TGVkZ2VyQmFsYW5jZXMoJGFsbCwgJGNvbXBhbnlfaWQsICRnZXRBY3RpdmVGaXNjYWxZZWFyLT5pZCkpLAogICAgICAgICAgICBdOwoKICAgICAgICAgICAgcmV0dXJuIHZpZXcoJ2FjY291bnRpbmcuYmFja2VuZC5wYWdlcy5yZXBvcnRzLmN1c3RvbWVyQWdlaW5nLmluZGV4JywgJGRhdGEpOwogICAgICAgIH1jYXRjaCAoXFRocm93YWJsZSAkdGgpewogICAgICAgICAgICBpZihyZXF1ZXN0KCktPmhhcygncmVwb3J0X3R5cGUnKSAmJiByZXF1ZXN0KCktPmdldCgncmVwb3J0X3R5cGUnKSA9PSAncmVwb3J0Jyl7CiAgICAgICAgICAgICAgICByZXR1cm4gJHRoLT5nZXRNZXNzYWdlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YmFja1dpdGhFcnJvcigkdGgtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgfQogICAgfQp9Cg==