<?php
bolt_decrypt( __FILE__ , 'NkgTU7'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcQVBJOwoKdXNlIEFwcFxIdHRwXENvbnRyb2xsZXJzXENvbnRyb2xsZXI7CnVzZSBJbGx1bWluYXRlXEh0dHBcUmVxdWVzdDsKdXNlIERCOwoKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xBY2NvdW50Q2xhc3M7CnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcQWNjb3VudEdyb3VwOwp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXENoYXJ0T2ZBY2NvdW50OwoKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xCYW5rQWNjb3VudDsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xDaGVxdWVCb29rUGFnZTsKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xBY2NvdW50c1xDb21wYW55Owp1c2UgXEFwcFxNb2RlbHNcUG1zTW9kZWxzXEFjY291bnRzXENvc3RDZW50cmU7CnVzZSBcQXBwXE1vZGVsc1xQbXNNb2RlbHNcQWNjb3VudHNcRW50cnlUeXBlOwoKdXNlIFxBcHBcTW9kZWxzXFBtc01vZGVsc1xGaXhlZEFzc2V0c1xGaXhlZEFzc2V0TG9jYXRpb247CgpjbGFzcyBCYW5rQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIKewogICAgLyoqCiAgICAgKiBMaXN0IG9mIEJhbmsgQWNjb3VudHMKICAgICAqIAogICAgICogR2V0IExpc3Qgb2YgYWxsIGF2YWlsYWJsZSBCYW5rIEFjY291bnRzLgogICAgICogCiAgICAgKiBAcXVlcnlQYXJhbSB0b2tlbiBzdHJpbmcgcmVxdWlyZWQgQXV0aGVudGljYXRpb24gVG9rZW4gTGlzdCB3b3VsZCBiZSBwcm92aWRlZCBieSBCSVpaU09MIEV4YW1wbGU6IGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6YWJjZGVmCiAgICAgKiBAcXVlcnlQYXJhbSBpZCBpbnRlZ2VyIEJhbmsgQWNjb3VudCBJRCBFeGFtcGxlOiBudWxsCiAgICAgKiBAcXVlcnlQYXJhbSBjb2RlIHN0cmluZyBDb2RlIEV4YW1wbGU6IFNTTEI1NAogICAgICogQHF1ZXJ5UGFyYW0gbnVtYmVyIHN0cmluZyBBY2NvdW50IE51bWJlciBFeGFtcGxlOiA0MDAyNzgwOTE1NDMwCiAgICAgKiBAcXVlcnlQYXJhbSBjdXJyZW5jeV9pZCBpbnRlZ2VyIEN1cnJlbmN5IElEIEV4YW1wbGU6IG51bGwKICAgICAqCiAgICAgKiBAZ3JvdXAgQmFuayBBY2NvdW50cwogICAgICogQHJldHVybiBcSWxsdW1pbmF0ZVxIdHRwXFJlc3BvbnNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBpbmRleChSZXF1ZXN0ICRyZXF1ZXN0KXsKICAgICAgICB0cnl7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKFsKICAgICAgICAgICAgICAgICdzdWNjZXNzJyA9PiB0cnVlLAogICAgICAgICAgICAgICAgJ3N0YXR1cycgPT4gdHJ1ZSwKICAgICAgICAgICAgICAgICdzdGF0dXNfY29kZScgPT4gMjAwLAogICAgICAgICAgICAgICAgJ2RhdGEnID0+IEJhbmtBY2NvdW50Ojp3aXRoKFsKICAgICAgICAgICAgICAgICAgICAnY2hhcnRPZkFjY291bnQnID0+IGZ1bmN0aW9uKCRxdWVyeSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPnNlbGVjdCgnaWQnLCAnY29kZScsICduYW1lJyk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAnYmFua0NoYXJnZXNBY2NvdW50JyA9PiBmdW5jdGlvbigkcXVlcnkpewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT5zZWxlY3QoJ2lkJywgJ2NvZGUnLCAnbmFtZScpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgJ2N1cnJlbmN5JyA9PiBmdW5jdGlvbigkcXVlcnkpewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT5zZWxlY3QoJ2lkJywgJ2NvZGUnLCAnbmFtZScsICdzeW1ib2wnLCAnaHVuZHJlZHMnLCAnY291bnRyeScpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgLT53aGVuKGlzc2V0KCRyZXF1ZXN0LT5pZCkgJiYgJHJlcXVlc3QtPmlkID4gMCwgZnVuY3Rpb24oJHF1ZXJ5KSB1c2UoJHJlcXVlc3QpewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdpZCcsICRyZXF1ZXN0LT5pZCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT53aGVuKGlzc2V0KCRyZXF1ZXN0LT5jb2RlKSAmJiAhZW1wdHkoJHJlcXVlc3QtPmNvZGUpLCBmdW5jdGlvbigkcXVlcnkpIHVzZSgkcmVxdWVzdCl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2NvZGUnLCAkcmVxdWVzdC0+Y29kZSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT53aGVuKGlzc2V0KCRyZXF1ZXN0LT5udW1iZXIpICYmICFlbXB0eSgkcmVxdWVzdC0+bnVtYmVyKSwgZnVuY3Rpb24oJHF1ZXJ5KSB1c2UoJHJlcXVlc3QpewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkcXVlcnktPndoZXJlKCdudW1iZXInLCAkcmVxdWVzdC0+bnVtYmVyKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPndoZW4oaXNzZXQoJHJlcXVlc3QtPmN1cnJlbmN5X2lkKSAmJiAkcmVxdWVzdC0+Y3VycmVuY3lfaWQgPiAwLCBmdW5jdGlvbigkcXVlcnkpIHVzZSgkcmVxdWVzdCl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ2N1cnJlbmN5X2lkJywgJHJlcXVlc3QtPmN1cnJlbmN5X2lkKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAtPmdldCgpCiAgICAgICAgICAgIF0sIDIwMCk7CiAgICAgICAgfWNhdGNoIChcVGhyb3dhYmxlICR0aCl7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKFsKICAgICAgICAgICAgICAgICdzdWNjZXNzJyA9PiBmYWxzZSwKICAgICAgICAgICAgICAgICdzdGF0dXMnID0+IGZhbHNlLAogICAgICAgICAgICAgICAgJ3N0YXR1c19jb2RlJyA9PiA1MDAsCiAgICAgICAgICAgICAgICAnbWVzc2FnZScgPT4gJHRoLT5nZXRNZXNzYWdlKCkKICAgICAgICAgICAgXSwgNTAwKTsKICAgICAgICB9CiAgICB9CgoKICAgIC8qKgogICAgICogQXZhaWxhYmxlIENoZXF1ZSBCb29rIFBhZ2UKICAgICAqIAogICAgICogR2V0IEF2YWlsYWJsZSBDaGVxdWUgQm9vayBQYWdlLgogICAgICogCiAgICAgKiBAcXVlcnlQYXJhbSB0b2tlbiBzdHJpbmcgcmVxdWlyZWQgQXV0aGVudGljYXRpb24gVG9rZW4gTGlzdCB3b3VsZCBiZSBwcm92aWRlZCBieSBCSVpaU09MIEV4YW1wbGU6IGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6YWJjZGVmCiAgICAgKiBAYm9keVBhcmFtIGJhbmtfYWNjb3VudF9pZCBpbnRlZ2VyIHJlcXVpcmVkIEJhbmsgQWNjb3VudCBJRCBFeGFtcGxlOiAxNTEKICAgICAqCiAgICAgKiBAZ3JvdXAgQmFuayBBY2NvdW50cwogICAgICogQHJldHVybiBcSWxsdW1pbmF0ZVxIdHRwXFJlc3BvbnNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRBdmFpbGFibGVDaGVxdWUoUmVxdWVzdCAkcmVxdWVzdCl7CiAgICAgICAgJHZhbGlkYXRvciA9IFxWYWxpZGF0b3I6Om1ha2UoJHJlcXVlc3QtPmFsbCgpLCBbCiAgICAgICAgICAgICdiYW5rX2FjY291bnRfaWQnID0+ICdyZXF1aXJlZCcsCiAgICAgICAgXSk7CgogICAgICAgIGlmICgkdmFsaWRhdG9yLT5wYXNzZXMoKSkgewogICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAkcGFnZSA9IENoZXF1ZUJvb2tQYWdlOjp3aGVyZUhhcygnY2hlcXVlQm9vaycsIGZ1bmN0aW9uKCRxdWVyeSkgdXNlKCRyZXF1ZXN0KXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHF1ZXJ5LT53aGVyZSgnYmFua19hY2NvdW50X2lkJywgJHJlcXVlc3QtPmJhbmtfYWNjb3VudF9pZCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLT5kb2VzbnRIYXZlKCdlbnRyaWVzJykKICAgICAgICAgICAgICAgIC0+d2hlcmUoJ2lzX2RhbWFnZWQnLCAwKQogICAgICAgICAgICAgICAgLT5maXJzdCgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbihbCiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnID0+IHRydWUsCiAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgPT4gdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAnc3RhdHVzX2NvZGUnID0+IDIwMCwKICAgICAgICAgICAgICAgICAgICAnZGF0YScgPT4gaXNzZXQoJHBhZ2UtPnBhZ2VfbnVtYmVyKSA/ICRwYWdlLT5wYWdlX251bWJlciA6ICcnCiAgICAgICAgICAgICAgICBdLCAyMDApOwogICAgICAgICAgICB9Y2F0Y2ggKFxUaHJvd2FibGUgJHRoKXsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKFsKICAgICAgICAgICAgICAgICAgICAnc3VjY2VzcycgPT4gZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgPT4gZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgJ3N0YXR1c19jb2RlJyA9PiA1MDAsCiAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2UnID0+ICR0aC0+Z2V0TWVzc2FnZSgpCiAgICAgICAgICAgICAgICBdLCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbihbCiAgICAgICAgICAgICdzdWNjZXNzJyA9PiBmYWxzZSwKICAgICAgICAgICAgJ3N0YXR1cycgPT4gZmFsc2UsCiAgICAgICAgICAgICdzdGF0dXNfY29kZScgPT4gNDIyLAogICAgICAgICAgICAnbWVzc2FnZScgPT4gaW1wbG9kZSgnLCAnLCAkdmFsaWRhdG9yLT5lcnJvcnMoKS0+YWxsKCkpCiAgICAgICAgXSwgNDIyKTsKICAgIH0KfQo=