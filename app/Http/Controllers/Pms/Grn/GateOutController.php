<?php
bolt_decrypt( __FILE__ , '83ruFh'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnNcUG1zXEdybjsKCnVzZSBBcHBcSHR0cFxDb250cm9sbGVyc1xDb250cm9sbGVyOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcSW52ZW50b3J5TW9kZWxzXEludmVudG9yeUFjdGlvbkNvbnRyb2w7CnVzZSBBcHBcTW9kZWxzXFBtc01vZGVsc1xQcm9kdWN0Owp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcV2FyZWhvdXNlczsKdXNlIElsbHVtaW5hdGVcSHR0cFxSZXF1ZXN0Owp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcUHVyY2hhc2VcUHVyY2hhc2VPcmRlcjsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXFB1cmNoYXNlXFB1cmNoYXNlT3JkZXJJdGVtOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcR3JuXEdvb2RzUmVjZWl2ZWROb3RlOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcR3JuXEdvb2RzUmVjZWl2ZWRJdGVtOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcR3JuXEdvb2RzUmVjZWl2ZWRJdGVtU3RvY2tJbjsKdXNlIEFwcFxNb2RlbHNcUG1zTW9kZWxzXFB1cmNoYXNlUmV0dXJuOwp1c2UgQXBwXE1vZGVsc1xQbXNNb2RlbHNcUHVyY2hhc2VSZXR1cm5HYXRlT3V0Owp1c2UgSWxsdW1pbmF0ZVxTdXBwb3J0XEZhY2FkZXNcTWFpbDsKdXNlIERCLEF1dGg7CgpjbGFzcyBHYXRlT3V0Q29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIKewogICAgcHVibGljIGZ1bmN0aW9uIHNob3coJHBvX2lkKQogICAgewogICAgICAgIHRyeXsKICAgICAgICAgICAgJHB1cmNoYXNlT3JkZXIgPSBQdXJjaGFzZU9yZGVyOjpmaW5kT3JGYWlsKCRwb19pZCk7CiAgICAgICAgICAgICRwcm9kdWN0cyA9IFB1cmNoYXNlUmV0dXJuOjp3aGVyZUhhcygncmVsR29vZHNSZWNlaXZlZEl0ZW1zLnJlbEdvb2RzUmVjZWl2ZWROb3RlJywgZnVuY3Rpb24oJHF1ZXJ5KSB1c2UoJHB1cmNoYXNlT3JkZXIpewogICAgICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ3B1cmNoYXNlX29yZGVyX2lkJywgJHB1cmNoYXNlT3JkZXItPmlkKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLT53aGVyZUluKCdzdGF0dXMnLCBbJ3JldHVybicsICdyZXR1cm4tY2hhbmdlJ10pCiAgICAgICAgICAgIC0+d2hlcmUoJ2NvZGUnLCByZXF1ZXN0KCktPmdldCgnY29kZScpKQogICAgICAgICAgICAtPmdldCgpOwogICAgICAgICAgICAkYXZhaWxhYmxlID0gMDsKICAgICAgICAgICAgaWYoaXNzZXQoJHByb2R1Y3RzWzBdKSl7CiAgICAgICAgICAgICAgICBmb3JlYWNoKCRwcm9kdWN0cyBhcyAka2V5ID0+ICRwcm9kdWN0KXsKICAgICAgICAgICAgICAgICAgICAkYXZhaWxhYmxlICs9ICgkcHJvZHVjdC0+cmV0dXJuX3F0eS0kcHJvZHVjdC0+Z2F0ZU91dHMtPnN1bSgncXR5JykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkYXZhaWxhYmxlID09IDApewogICAgICAgICAgICAgICAgcmV0dXJuICR0aGlzLT51cmxSZWRpcmVjdEJhY2soIk5vIEl0ZW0gYXZhaWxhYmxlIHRvIGdhdGUgb3V0ISIsICdwbXMvZ3JuL3BvLWxpc3QnLCAnZXJyb3InKTsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICRwcmVmaXggPSAnR08tJy5kYXRlKCd5Jywgc3RydG90aW1lKGRhdGUoJ1ktbS1kJykpKS4nLScuKCRwdXJjaGFzZU9yZGVyLT5Vbml0LT5ocl91bml0X3Nob3J0X25hbWUpLictJzsKICAgICAgICAgICAgJGJhdGNoID0gdW5pcXVlQ29kZSgxOCwkcHJlZml4LCdwdXJjaGFzZV9yZXR1cm5fZ2F0ZV9vdXRzJywnaWQnKTsKCiAgICAgICAgICAgICRkYXRhID0gWwogICAgICAgICAgICAgICAgJ3RpdGxlJyA9PiAnR2F0ZSBPdXQnLAogICAgICAgICAgICAgICAgJ3B1cmNoYXNlT3JkZXInID0+ICRwdXJjaGFzZU9yZGVyLAogICAgICAgICAgICAgICAgJ3Byb2R1Y3RzJyA9PiAkcHJvZHVjdHMsCiAgICAgICAgICAgICAgICAnYmF0Y2gnID0+ICRiYXRjaAogICAgICAgICAgICBdOwoKICAgICAgICAgICAgcmV0dXJuIHZpZXcoJ3Btcy5iYWNrZW5kLnBhZ2VzLmdybi5nYXRlLW91dCcsICRkYXRhKTsKCiAgICAgICAgfWNhdGNoIChFeGNlcHRpb24gJGUpewogICAgICAgICAgICBEQjo6cm9sbGJhY2soKTsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5iYWNrV2l0aEVycm9yKCRlLT5nZXRNZXNzYWdlKCkpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gdXBkYXRlKFJlcXVlc3QgJHJlcXVlc3QsICRwb19pZCkKICAgIHsKICAgICAgICAkcHVyY2hhc2VPcmRlciA9IFB1cmNoYXNlT3JkZXI6OmZpbmRPckZhaWwoJHBvX2lkKTsKICAgICAgICAkcHJvZHVjdHMgPSBQdXJjaGFzZVJldHVybjo6d2hlcmVIYXMoJ3JlbEdvb2RzUmVjZWl2ZWRJdGVtcy5yZWxHb29kc1JlY2VpdmVkTm90ZScsIGZ1bmN0aW9uKCRxdWVyeSkgdXNlKCRwdXJjaGFzZU9yZGVyKXsKICAgICAgICAgICAgcmV0dXJuICRxdWVyeS0+d2hlcmUoJ3B1cmNoYXNlX29yZGVyX2lkJywgJHB1cmNoYXNlT3JkZXItPmlkKTsKICAgICAgICB9KQogICAgICAgIC0+d2hlcmVJbignc3RhdHVzJywgWydyZXR1cm4nLCAncmV0dXJuLWNoYW5nZSddKQogICAgICAgIC0+Z2V0KCk7CgogICAgICAgICRjb3VudCA9IDA7CiAgICAgICAgaWYoaXNzZXQoJHByb2R1Y3RzWzBdKSl7CiAgICAgICAgICAgIGZvcmVhY2goJHByb2R1Y3RzIGFzICRrZXkgPT4gJHByb2R1Y3QpewogICAgICAgICAgICAgICAgaWYoYXJyYXlfa2V5X2V4aXN0cygkcHJvZHVjdC0+aWQsIGlzc2V0KCRyZXF1ZXN0LT5nYXRlX291dF9xdHkpICYmIGlzX2FycmF5KCRyZXF1ZXN0LT5nYXRlX291dF9xdHkpID8gJHJlcXVlc3QtPmdhdGVfb3V0X3F0eSA6IFtdKSl7CiAgICAgICAgICAgICAgICAgICAgJGF2YWlsYWJsZSA9ICgkcHJvZHVjdC0+cmV0dXJuX3F0eS0oaXNzZXQoJHByb2R1Y3QtPmdldE91dHNbMF0pID8gJHByb2R1Y3QtPmdldE91dHMtPnN1bSgncXR5JykgOiAwKSk7CiAgICAgICAgICAgICAgICAgICAgaWYoJGF2YWlsYWJsZSA+IDApewogICAgICAgICAgICAgICAgICAgICAgICBQdXJjaGFzZVJldHVybkdhdGVPdXQ6OmNyZWF0ZShbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHVyY2hhc2VfcmV0dXJuX2lkJyA9PiAkcHJvZHVjdC0+aWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmF0Y2gnID0+ICRyZXF1ZXN0LT5iYXRjaCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRlJyA9PiBkYXRlKCdZLW0tZCcpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3F0eScgPT4gJHJlcXVlc3QtPmdhdGVfb3V0X3F0eVskcHJvZHVjdC0+aWRdLAogICAgICAgICAgICAgICAgICAgICAgICBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgJGNvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZigkY291bnQgPiAwKXsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT51cmxSZWRpcmVjdEJhY2soJ0dhdGUgb3V0IHByb2Nlc3MgaGFzZSBiZWVuIGRvbmUgc3VjY2Vzc2Z1bGx5LicsICdwbXMvZ3JuL3BvLWxpc3QnLCAnc3VjY2VzcycpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICR0aGlzLT5iYWNrV2l0aFN1Y2Nlc3MoJ1NvbWV0aGluZyBXZW50IFdyb25nIScpOwogICAgfQp9Cg==